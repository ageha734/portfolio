import{c as gt,a as mo}from"./_commonjsHelpers-BosuxZz1.js";var ve;(function(e){e.AUTHENTICATION="AUTH",e.VALIDATION="VALIDATION",e.NOT_FOUND="NOT_FOUND",e.INTERNAL="INTERNAL",e.EXTERNAL="EXTERNAL",e.RATE_LIMIT="RATE_LIMIT",e.DATABASE="DATABASE",e.CACHE="CACHE"})(ve||(ve={}));const ne={AUTH_INVALID_TOKEN:"AUTH_INVALID_TOKEN",AUTH_TOKEN_EXPIRED:"AUTH_TOKEN_EXPIRED",AUTH_UNAUTHORIZED:"AUTH_UNAUTHORIZED",AUTH_FORBIDDEN:"AUTH_FORBIDDEN",AUTH_MISSING_CREDENTIALS:"AUTH_MISSING_CREDENTIALS",VALIDATION_MISSING_FIELD:"VALIDATION_MISSING_FIELD",VALIDATION_INVALID_FORMAT:"VALIDATION_INVALID_FORMAT",VALIDATION_OUT_OF_RANGE:"VALIDATION_OUT_OF_RANGE",VALIDATION_INVALID_TYPE:"VALIDATION_INVALID_TYPE",NOT_FOUND_RESOURCE:"NOT_FOUND_RESOURCE",NOT_FOUND_USER:"NOT_FOUND_USER",NOT_FOUND_PORTFOLIO:"NOT_FOUND_PORTFOLIO",NOT_FOUND_POST:"NOT_FOUND_POST",INTERNAL_SERVER_ERROR:"INTERNAL_SERVER_ERROR",INTERNAL_PROCESSING_ERROR:"INTERNAL_PROCESSING_ERROR",EXTERNAL_API_ERROR:"EXTERNAL_API_ERROR",EXTERNAL_TIMEOUT:"EXTERNAL_TIMEOUT",EXTERNAL_RATE_LIMIT:"EXTERNAL_RATE_LIMIT",RATE_LIMIT_EXCEEDED:"RATE_LIMIT_EXCEEDED",DATABASE_CONNECTION_ERROR:"DATABASE_CONNECTION_ERROR",DATABASE_QUERY_ERROR:"DATABASE_QUERY_ERROR",DATABASE_TRANSACTION_ERROR:"DATABASE_TRANSACTION_ERROR",CACHE_CONNECTION_ERROR:"CACHE_CONNECTION_ERROR",CACHE_OPERATION_ERROR:"CACHE_OPERATION_ERROR"};function vo(e){return e.split("_")[0]}function ni(e){switch(vo(e)){case ve.AUTHENTICATION:return e===ne.AUTH_UNAUTHORIZED?401:e===ne.AUTH_FORBIDDEN?403:401;case ve.VALIDATION:return 400;case ve.NOT_FOUND:return 404;case ve.RATE_LIMIT:return 429;case ve.EXTERNAL:case ve.DATABASE:case ve.CACHE:case ve.INTERNAL:default:return 500}}class Le extends Error{code;category;httpStatus;metadata;originalError;constructor(t,r,n){super(r,{cause:n?.cause}),this.name="AppError",this.code=t,this.category=vo(t),this.httpStatus=ni(t),this.metadata=n?.metadata,this.originalError=n?.originalError,Error.captureStackTrace&&Error.captureStackTrace(this,Le)}toJSON(){return{code:this.code,category:this.category,message:this.message,httpStatus:this.httpStatus,...this.metadata&&{metadata:this.metadata}}}static fromCode(t,r,n){const o={[ne.AUTH_INVALID_TOKEN]:"無効なトークンです",[ne.AUTH_TOKEN_EXPIRED]:"トークンの有効期限が切れています",[ne.AUTH_UNAUTHORIZED]:"認証が必要です",[ne.AUTH_FORBIDDEN]:"アクセス権限がありません",[ne.AUTH_MISSING_CREDENTIALS]:"認証情報が不足しています",[ne.VALIDATION_MISSING_FIELD]:"必須フィールドが不足しています",[ne.VALIDATION_INVALID_FORMAT]:"無効な形式です",[ne.VALIDATION_OUT_OF_RANGE]:"値が範囲外です",[ne.VALIDATION_INVALID_TYPE]:"無効な型です",[ne.NOT_FOUND_RESOURCE]:"リソースが見つかりません",[ne.NOT_FOUND_USER]:"ユーザーが見つかりません",[ne.NOT_FOUND_PORTFOLIO]:"ポートフォリオが見つかりません",[ne.NOT_FOUND_POST]:"投稿が見つかりません",[ne.INTERNAL_SERVER_ERROR]:"サーバー内部エラーが発生しました",[ne.INTERNAL_PROCESSING_ERROR]:"処理中にエラーが発生しました",[ne.EXTERNAL_API_ERROR]:"外部APIでエラーが発生しました",[ne.EXTERNAL_TIMEOUT]:"外部サービスへのリクエストがタイムアウトしました",[ne.EXTERNAL_RATE_LIMIT]:"外部サービスのレート制限に達しました",[ne.RATE_LIMIT_EXCEEDED]:"レート制限を超えました",[ne.DATABASE_CONNECTION_ERROR]:"データベースへの接続に失敗しました",[ne.DATABASE_QUERY_ERROR]:"データベースクエリの実行に失敗しました",[ne.DATABASE_TRANSACTION_ERROR]:"データベーストランザクションに失敗しました",[ne.CACHE_CONNECTION_ERROR]:"キャッシュへの接続に失敗しました",[ne.CACHE_OPERATION_ERROR]:"キャッシュ操作に失敗しました"};return new Le(t,r??o[t]??"エラーが発生しました",n)}}function ai(e,t){return null}function oi(e){return e({})}class ii{captureError(t,r){ai(t,{tags:t instanceof Le?{errorCode:t.code,category:t.category}:{},extra:{...t instanceof Le&&t.metadata?t.metadata:{},...r},level:t instanceof Le?this.getSeverityLevel(t.code):"error"})}captureMessage(t,r="info",n){}setUser(t){}clearUser(){}setContext(t,r){}setTag(t,r){}setTags(t){}addBreadcrumb(t){}withScope(t){oi(t)}getSeverityLevel(t){return t.startsWith("AUTH_")||t.startsWith("VALIDATION_")?"warning":t.startsWith("NOT_FOUND_")?"info":"error"}}const Rn=new ii;var ue={},Ze={exports:{}},ye={},Tn;function _e(){if(Tn)return ye;Tn=1,ye.getValueAsString=function(o){return Number.isNaN(o)?"Nan":Number.isFinite(o)?`${o}`:o<0?"-Inf":"+Inf"},ye.removeLabels=function(o,i,a){const u=t(i,a);delete o[u]},ye.setValue=function(o,i,a){const u=t(a);return o[u]={value:typeof i=="number"?i:0,labels:a||{}},o},ye.setValueDelta=function(o,i,a,u=""){const c=typeof i=="number"?i:0;return o[u]?o[u].value+=c:o[u]={value:c,labels:a},o},ye.getLabels=function(n,o){if(typeof o[0]=="object")return o[0];if(n.length!==o.length)throw new Error("Invalid number of arguments");const i={};for(let a=0;a<n.length;a++)i[n[a]]=o[a];return i};function e(n,o){if(n.length===0)return"";let i="";for(let a=0;a<n.length;a++){const u=n[a],c=o[u];c!==void 0&&(i+=`${u}:${c},`)}return i}function t(n,o){if(o)return e(o,n);const i=Object.keys(n);return i.length>1&&i.sort(),e(i,n)}ye.hashObject=t,ye.isObject=function(o){return o!==null&&typeof o=="object"},ye.nowTimestamp=function(){return Date.now()/1e3};class r extends Map{add(o,i){this.has(o)?this.get(o).push(i):this.set(o,[i])}}return ye.Grouper=r,ye}var xn;function we(){if(xn)return Ze.exports;xn=1;const{getValueAsString:e}=_e();class t{static get PROMETHEUS_CONTENT_TYPE(){return"text/plain; version=0.0.4; charset=utf-8"}static get OPENMETRICS_CONTENT_TYPE(){return"application/openmetrics-text; version=1.0.0; charset=utf-8"}constructor(l=t.PROMETHEUS_CONTENT_TYPE){if(this._metrics={},this._collectors=[],this._defaultLabels={},l!==t.PROMETHEUS_CONTENT_TYPE&&l!==t.OPENMETRICS_CONTENT_TYPE)throw new TypeError(`Content type ${l} is unsupported`);this._contentType=l}getMetricsAsArray(){return Object.values(this._metrics)}async getMetricsAsString(l){const y=typeof l.getForPromString=="function"?await l.getForPromString():await l.get(),v=a(y.name),E=`# HELP ${v} ${a(y.help)}`,_=`# TYPE ${v} ${y.type}`,f=[E,_],h=Object.keys(this._defaultLabels).length>0?this._defaultLabels:null,p=this.contentType===t.OPENMETRICS_CONTENT_TYPE;for(const w of y.values||[]){let{metricName:R=v,labels:T={}}=w;const{sharedLabels:M={}}=w;p&&y.type==="counter"&&(R=`${R}_total`),h&&(T={...T,...h,...T});const d=r(T,M),b=o(M),s=[...d,b].filter(Boolean),S=s.length?`{${s.join(",")}}`:"";let x=`${R}${S} ${e(w.value)}`;const{exemplar:C}=w;if(C&&p){const L=r(C.labelSet);x+=` # {${L.join(",")}} ${e(C.value)} ${C.timestamp}`}f.push(x)}return f.join(`
`)}async metrics(){const l=this.contentType===t.OPENMETRICS_CONTENT_TYPE,y=this.getMetricsAsArray().map(E=>(l&&E.type==="counter"&&(E.name=u(E.name)),this.getMetricsAsString(E))),v=await Promise.all(y);return l?`${v.join(`
`)}
# EOF
`:`${v.join(`

`)}
`}registerMetric(l){if(this._metrics[l.name]&&this._metrics[l.name]!==l)throw new Error(`A metric with the name ${l.name} has already been registered.`);this._metrics[l.name]=l}clear(){this._metrics={},this._defaultLabels={}}async getMetricsAsJSON(){const l=[],y=Object.keys(this._defaultLabels),v=[];for(const _ of this.getMetricsAsArray())v.push(_.get());const E=await Promise.all(v);for(const _ of E){if(_.values&&y.length>0)for(const f of _.values){f.labels=Object.assign({},f.labels);for(const h of y)f.labels[h]=f.labels[h]||this._defaultLabels[h]}l.push(_)}return l}removeSingleMetric(l){delete this._metrics[l]}getSingleMetricAsString(l){return this.getMetricsAsString(this._metrics[l])}getSingleMetric(l){return this._metrics[l]}setDefaultLabels(l){this._defaultLabels=l}resetMetrics(){for(const l in this._metrics)this._metrics[l].reset()}get contentType(){return this._contentType}setContentType(l){if(l===t.OPENMETRICS_CONTENT_TYPE||l===t.PROMETHEUS_CONTENT_TYPE)this._contentType=l;else throw new Error(`Content type ${l} is unsupported`)}static merge(l){const y=l[0].contentType;for(const _ of l)if(_.contentType!==y)throw new Error("Registers can only be merged if they have the same content type");const v=new t(y);return l.reduce((_,f)=>_.concat(f.getMetricsAsArray()),[]).forEach(v.registerMetric,v),v}}function r(c,l){const{hasOwnProperty:y}=Object.prototype,v=[];for(const[E,_]of Object.entries(c))(!l||!y.call(l,E))&&v.push(`${E}="${i(_)}"`);return v}const n=new WeakMap;function o(c){const l=n.get(c);if(l)return l;const v=r(c).join(",");return n.set(c,v),v}function i(c){return typeof c!="string"?c:a(c).replace(/"/g,'\\"')}function a(c){return c.replace(/\\/g,"\\\\").replace(/\n/g,"\\n")}function u(c){return c.replace(/_total$/,"")}return Ze.exports=t,Ze.exports.globalRegistry=new t,Ze.exports}var Be={},Lt={},qt,Pn;function si(){return Pn||(Pn=1,qt=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),qt}var et={exports:{}},In;function ui(){return In||(In=1,typeof Object.create=="function"?et.exports=function(t,r){t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:et.exports=function(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}),et.exports}var Mn;function We(){return Mn||(Mn=1,function(e){var t={},r=Object.getOwnPropertyDescriptors||function(g){for(var N=Object.keys(g),U={},F=0;F<N.length;F++)U[N[F]]=Object.getOwnPropertyDescriptor(g,N[F]);return U},n=/%[sdj%]/g;e.format=function(m){if(!d(m)){for(var g=[],N=0;N<arguments.length;N++)g.push(a(arguments[N]));return g.join(" ")}for(var N=1,U=arguments,F=U.length,k=String(m).replace(n,function(j){if(j==="%%")return"%";if(N>=F)return j;switch(j){case"%s":return String(U[N++]);case"%d":return Number(U[N++]);case"%j":try{return JSON.stringify(U[N++])}catch{return"[Circular]"}default:return j}}),G=U[N];N<F;G=U[++N])R(G)||!x(G)?k+=" "+G:k+=" "+a(G);return k},e.deprecate=function(m,g){if(typeof process<"u"&&process.noDeprecation===!0)return m;if(typeof process>"u")return function(){return e.deprecate(m,g).apply(this,arguments)};var N=!1;function U(){if(!N){if(process.throwDeprecation)throw new Error(g);process.traceDeprecation?console.trace(g):console.error(g),N=!0}return m.apply(this,arguments)}return U};var o={},i;e.debuglog=function(m){if(s(i)&&(i=t.NODE_DEBUG||""),m=m.toUpperCase(),!o[m])if(new RegExp("\\b"+m+"\\b","i").test(i)){var g=process.pid;o[m]=function(){var N=e.format.apply(e,arguments);console.error("%s %d: %s",m,g,N)}}else o[m]=function(){};return o[m]};function a(m,g){var N={seen:[],stylize:c};return arguments.length>=3&&(N.depth=arguments[2]),arguments.length>=4&&(N.colors=arguments[3]),w(g)?N.showHidden=g:g&&e._extend(N,g),s(N.showHidden)&&(N.showHidden=!1),s(N.depth)&&(N.depth=2),s(N.colors)&&(N.colors=!1),s(N.customInspect)&&(N.customInspect=!0),N.colors&&(N.stylize=u),y(N,m,N.depth)}e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(m,g){var N=a.styles[g];return N?"\x1B["+a.colors[N][0]+"m"+m+"\x1B["+a.colors[N][1]+"m":m}function c(m,g){return m}function l(m){var g={};return m.forEach(function(N,U){g[N]=!0}),g}function y(m,g,N){if(m.customInspect&&g&&I(g.inspect)&&g.inspect!==e.inspect&&!(g.constructor&&g.constructor.prototype===g)){var U=g.inspect(N,m);return d(U)||(U=y(m,U,N)),U}var F=v(m,g);if(F)return F;var k=Object.keys(g),G=l(k);if(m.showHidden&&(k=Object.getOwnPropertyNames(g)),L(g)&&(k.indexOf("message")>=0||k.indexOf("description")>=0))return E(g);if(k.length===0){if(I(g)){var j=g.name?": "+g.name:"";return m.stylize("[Function"+j+"]","special")}if(S(g))return m.stylize(RegExp.prototype.toString.call(g),"regexp");if(C(g))return m.stylize(Date.prototype.toString.call(g),"date");if(L(g))return E(g)}var D="",V=!1,W=["{","}"];if(p(g)&&(V=!0,W=["[","]"]),I(g)){var Q=g.name?": "+g.name:"";D=" [Function"+Q+"]"}if(S(g)&&(D=" "+RegExp.prototype.toString.call(g)),C(g)&&(D=" "+Date.prototype.toUTCString.call(g)),L(g)&&(D=" "+E(g)),k.length===0&&(!V||g.length==0))return W[0]+D+W[1];if(N<0)return S(g)?m.stylize(RegExp.prototype.toString.call(g),"regexp"):m.stylize("[Object]","special");m.seen.push(g);var Z;return V?Z=_(m,g,N,G,k):Z=k.map(function(te){return f(m,g,N,G,te,V)}),m.seen.pop(),h(Z,D,W)}function v(m,g){if(s(g))return m.stylize("undefined","undefined");if(d(g)){var N="'"+JSON.stringify(g).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return m.stylize(N,"string")}if(M(g))return m.stylize(""+g,"number");if(w(g))return m.stylize(""+g,"boolean");if(R(g))return m.stylize("null","null")}function E(m){return"["+Error.prototype.toString.call(m)+"]"}function _(m,g,N,U,F){for(var k=[],G=0,j=g.length;G<j;++G)P(g,String(G))?k.push(f(m,g,N,U,String(G),!0)):k.push("");return F.forEach(function(D){D.match(/^\d+$/)||k.push(f(m,g,N,U,D,!0))}),k}function f(m,g,N,U,F,k){var G,j,D;if(D=Object.getOwnPropertyDescriptor(g,F)||{value:g[F]},D.get?D.set?j=m.stylize("[Getter/Setter]","special"):j=m.stylize("[Getter]","special"):D.set&&(j=m.stylize("[Setter]","special")),P(U,F)||(G="["+F+"]"),j||(m.seen.indexOf(D.value)<0?(R(N)?j=y(m,D.value,null):j=y(m,D.value,N-1),j.indexOf(`
`)>-1&&(k?j=j.split(`
`).map(function(V){return"  "+V}).join(`
`).substr(2):j=`
`+j.split(`
`).map(function(V){return"   "+V}).join(`
`))):j=m.stylize("[Circular]","special")),s(G)){if(k&&F.match(/^\d+$/))return j;G=JSON.stringify(""+F),G.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(G=G.substr(1,G.length-2),G=m.stylize(G,"name")):(G=G.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),G=m.stylize(G,"string"))}return G+": "+j}function h(m,g,N){var U=m.reduce(function(F,k){return k.indexOf(`
`)>=0,F+k.replace(/\u001b\[\d\d?m/g,"").length+1},0);return U>60?N[0]+(g===""?"":g+`
 `)+" "+m.join(`,
  `)+" "+N[1]:N[0]+g+" "+m.join(", ")+" "+N[1]}function p(m){return Array.isArray(m)}e.isArray=p;function w(m){return typeof m=="boolean"}e.isBoolean=w;function R(m){return m===null}e.isNull=R;function T(m){return m==null}e.isNullOrUndefined=T;function M(m){return typeof m=="number"}e.isNumber=M;function d(m){return typeof m=="string"}e.isString=d;function b(m){return typeof m=="symbol"}e.isSymbol=b;function s(m){return m===void 0}e.isUndefined=s;function S(m){return x(m)&&$(m)==="[object RegExp]"}e.isRegExp=S;function x(m){return typeof m=="object"&&m!==null}e.isObject=x;function C(m){return x(m)&&$(m)==="[object Date]"}e.isDate=C;function L(m){return x(m)&&($(m)==="[object Error]"||m instanceof Error)}e.isError=L;function I(m){return typeof m=="function"}e.isFunction=I;function J(m){return m===null||typeof m=="boolean"||typeof m=="number"||typeof m=="string"||typeof m=="symbol"||typeof m>"u"}e.isPrimitive=J,e.isBuffer=si();function $(m){return Object.prototype.toString.call(m)}function Y(m){return m<10?"0"+m.toString(10):m.toString(10)}var H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function z(){var m=new Date,g=[Y(m.getHours()),Y(m.getMinutes()),Y(m.getSeconds())].join(":");return[m.getDate(),H[m.getMonth()],g].join(" ")}e.log=function(){console.log("%s - %s",z(),e.format.apply(e,arguments))},e.inherits=ui(),e._extend=function(m,g){if(!g||!x(g))return m;for(var N=Object.keys(g),U=N.length;U--;)m[N[U]]=g[N[U]];return m};function P(m,g){return Object.prototype.hasOwnProperty.call(m,g)}var X=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(g){if(typeof g!="function")throw new TypeError('The "original" argument must be of type Function');if(X&&g[X]){var N=g[X];if(typeof N!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(N,X,{value:N,enumerable:!1,writable:!1,configurable:!0}),N}function N(){for(var U,F,k=new Promise(function(D,V){U=D,F=V}),G=[],j=0;j<arguments.length;j++)G.push(arguments[j]);G.push(function(D,V){D?F(D):U(V)});try{g.apply(this,G)}catch(D){F(D)}return k}return Object.setPrototypeOf(N,Object.getPrototypeOf(g)),X&&Object.defineProperty(N,X,{value:N,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(N,r(g))},e.promisify.custom=X;function q(m,g){if(!m){var N=new Error("Promise was rejected with a falsy value");N.reason=m,m=N}return g(m)}function B(m){if(typeof m!="function")throw new TypeError('The "original" argument must be of type Function');function g(){for(var N=[],U=0;U<arguments.length;U++)N.push(arguments[U]);var F=N.pop();if(typeof F!="function")throw new TypeError("The last argument must be of type Function");var k=this,G=function(){return F.apply(k,arguments)};m.apply(this,N).then(function(j){process.nextTick(G,null,j)},function(j){process.nextTick(q,j,G)})}return Object.setPrototypeOf(g,Object.getPrototypeOf(m)),Object.defineProperties(g,r(m)),g}e.callbackify=B}(Lt)),Lt}var Cn;function qe(){if(Cn)return Be;Cn=1;const e=We(),t=/^[a-zA-Z_:][a-zA-Z0-9_:]*$/,r=/^[a-zA-Z_][a-zA-Z0-9_]*$/;return Be.validateMetricName=function(n){return t.test(n)},Be.validateLabelName=function(n=[]){return n.every(o=>r.test(o))},Be.validateLabel=function(o,i){for(const a in i)if(!o.includes(a))throw new Error(`Added label "${a}" is not included in initial labelset: ${e.inspect(o)}`)},Be}var Ut,Dn;function bt(){if(Dn)return Ut;Dn=1;const e=we(),{isObject:t}=_e(),{validateMetricName:r,validateLabelName:n}=qe();class o{constructor(a,u={}){if(!t(a))throw new TypeError("constructor expected a config object");if(Object.assign(this,{labelNames:[],registers:[e.globalRegistry],aggregator:"sum",enableExemplars:!1},u,a),this.registers||(this.registers=[e.globalRegistry]),!this.help)throw new Error("Missing mandatory help parameter");if(!this.name)throw new Error("Missing mandatory name parameter");if(!r(this.name))throw new Error("Invalid metric name");if(!n(this.labelNames))throw new Error("Invalid label name");if(this.collect&&typeof this.collect!="function")throw new Error('Optional "collect" parameter must be a function');this.labelNames?this.sortedLabelNames=[...this.labelNames].sort():this.sortedLabelNames=[],this.reset();for(const c of this.registers){if(this.enableExemplars&&c.contentType===e.PROMETHEUS_CONTENT_TYPE)throw new TypeError("Exemplars are supported only on OpenMetrics registries");c.registerMetric(this)}}reset(){}}return Ut={Metric:o},Ut}var Ft,Ln;function go(){if(Ln)return Ft;Ln=1;class e{constructor(r={},n=null){this.labelSet=r,this.value=n}validateExemplarLabelSet(r){let n="";for(const[o,i]of Object.entries(r))n+=`${o}${i}`;if(n.length>128)throw new RangeError("Label set size must be smaller than 128 UTF-8 chars")}}return Ft=e,Ft}var jt,qn;function _o(){if(qn)return jt;qn=1;const e=We(),{hashObject:t,isObject:r,getLabels:n,removeLabels:o,nowTimestamp:i}=_e(),{validateLabel:a}=qe(),{Metric:u}=bt(),c=go();class l extends u{constructor(E){super(E),this.type="counter",this.defaultLabels={},this.defaultValue=1,this.defaultExemplarLabelSet={},E.enableExemplars?(this.enableExemplars=!0,this.inc=this.incWithExemplar):this.inc=this.incWithoutExemplar}incWithoutExemplar(E,_){let f="";if(r(E)?(f=t(E,this.sortedLabelNames),a(this.labelNames,E)):(_=E,E={}),_&&!Number.isFinite(_))throw new TypeError(`Value is not a valid number: ${e.format(_)}`);if(_<0)throw new Error("It is not possible to decrease a counter");return _==null&&(_=1),y(this.hashMap,_,E,f),{labelHash:f}}incWithExemplar({labels:E=this.defaultLabels,value:_=this.defaultValue,exemplarLabels:f=this.defaultExemplarLabelSet}={}){const h=this.incWithoutExemplar(E,_);this.updateExemplar(f,_,h.labelHash)}updateExemplar(E,_,f){r(this.hashMap[f].exemplar)||(this.hashMap[f].exemplar=new c),this.hashMap[f].exemplar.validateExemplarLabelSet(E),this.hashMap[f].exemplar.labelSet=E,this.hashMap[f].exemplar.value=_||1,this.hashMap[f].exemplar.timestamp=i()}reset(){this.hashMap={},this.labelNames.length===0&&y(this.hashMap,0)}async get(){if(this.collect){const E=this.collect();E instanceof Promise&&await E}return{help:this.help,name:this.name,type:this.type,values:Object.values(this.hashMap),aggregator:this.aggregator}}labels(...E){const _=n(this.labelNames,E)||{};return{inc:this.inc.bind(this,_)}}remove(...E){const _=n(this.labelNames,E)||{};return a(this.labelNames,_),o.call(this,this.hashMap,_,this.sortedLabelNames)}}function y(v,E,_={},f=""){return v[f]?v[f].value+=E:v[f]={value:E,labels:_},v}return jt=l,jt}var Bt,Un;function pe(){if(Un)return Bt;Un=1;const e=We(),{setValue:t,setValueDelta:r,getLabels:n,hashObject:o,isObject:i,removeLabels:a}=_e(),{validateLabel:u}=qe(),{Metric:c}=bt();class l extends c{constructor(h){super(h),this.type="gauge"}set(h,p){p=_(h,p),h=E(h),y(this,h,p)}reset(){this.hashMap={},this.labelNames.length===0&&t(this.hashMap,0,{})}inc(h,p){p=_(h,p),h=E(h),p===void 0&&(p=1),v(this,h,p)}dec(h,p){p=_(h,p),h=E(h),p===void 0&&(p=1),v(this,h,-p)}setToCurrentTime(h){const p=Date.now()/1e3;h===void 0?this.set(p):this.set(h,p)}startTimer(h){const p=process.hrtime();return w=>{const R=process.hrtime(p),T=R[0]+R[1]/1e9;return this.set(Object.assign({},h,w),T),T}}async get(){if(this.collect){const h=this.collect();h instanceof Promise&&await h}return{help:this.help,name:this.name,type:this.type,values:Object.values(this.hashMap),aggregator:this.aggregator}}_getValue(h){const p=o(h||{},this.sortedLabelNames);return this.hashMap[p]?this.hashMap[p].value:0}labels(...h){const p=n(this.labelNames,h);return u(this.labelNames,p),{inc:this.inc.bind(this,p),dec:this.dec.bind(this,p),set:this.set.bind(this,p),setToCurrentTime:this.setToCurrentTime.bind(this,p),startTimer:this.startTimer.bind(this,p)}}remove(...h){const p=n(this.labelNames,h);u(this.labelNames,p),a.call(this,this.hashMap,p,this.sortedLabelNames)}}function y(f,h,p){if(typeof p!="number")throw new TypeError(`Value is not a valid number: ${e.format(p)}`);u(f.labelNames,h),t(f.hashMap,p,h)}function v(f,h,p){if(typeof p!="number")throw new TypeError(`Delta is not a valid number: ${e.format(p)}`);u(f.labelNames,h);const w=o(h,f.sortedLabelNames);r(f.hashMap,p,h,w)}function E(f){return i(f)?f:{}}function _(f,h){return i(f)?h:f}return Bt=l,Bt}var kt,Fn;function bo(){if(Fn)return kt;Fn=1;const e=We(),{getLabels:t,hashObject:r,isObject:n,removeLabels:o,nowTimestamp:i}=_e(),{validateLabel:a}=qe(),{Metric:u}=bt(),c=go();class l extends u{constructor(d){super(d,{buckets:[.005,.01,.025,.05,.1,.25,.5,1,2.5,5,10]}),this.type="histogram",this.defaultLabels={},this.defaultExemplarLabelSet={},this.enableExemplars=!1,d.enableExemplars?(this.enableExemplars=!0,this.observe=this.observeWithExemplar):this.observe=this.observeWithoutExemplar;for(const b of this.labelNames)if(b==="le")throw new Error("le is a reserved label keyword");this.upperBounds=this.buckets,this.bucketValues=this.upperBounds.reduce((b,s)=>(b[s]=0,b),{}),this.bucketExemplars=this.upperBounds.reduce((b,s)=>(b[s]=null,b),{}),Object.freeze(this.bucketValues),Object.freeze(this.bucketExemplars),Object.freeze(this.upperBounds),this.labelNames.length===0&&(this.hashMap={[r({})]:h({},this.bucketValues,this.bucketExemplars)})}observeWithoutExemplar(d,b){f.call(this,d===0?0:d||{})(b)}observeWithExemplar({labels:d=this.defaultLabels,value:b,exemplarLabels:s=this.defaultExemplarLabelSet}={}){f.call(this,d===0?0:d||{})(b),this.updateExemplar(d,b,s)}updateExemplar(d,b,s){const S=r(d,this.sortedLabelNames),x=_(this.upperBounds,b),{bucketExemplars:C}=this.hashMap[S];let L=C[x];n(L)||(L=new c,C[x]=L),L.validateExemplarLabelSet(s),L.labelSet=s,L.value=b,L.timestamp=i()}async get(){const d=await this.getForPromString();return d.values=d.values.map(T),d}async getForPromString(){if(this.collect){const s=this.collect();s instanceof Promise&&await s}const b=Object.values(this.hashMap).map(w(this)).reduce(R(this),[]);return{name:this.name,help:this.help,type:this.type,values:b,aggregator:this.aggregator}}reset(){this.hashMap={}}zero(d){const b=r(d,this.sortedLabelNames);this.hashMap[b]=h(d,this.bucketValues,this.bucketExemplars)}startTimer(d,b){return this.enableExemplars?v.call(this,d,b)():y.call(this,d)()}labels(...d){const b=t(this.labelNames,d);return a(this.labelNames,b),{observe:f.call(this,b),startTimer:y.call(this,b)}}remove(...d){const b=t(this.labelNames,d);a(this.labelNames,b),o.call(this,this.hashMap,b,this.sortedLabelNames)}}function y(M){return()=>{const d=process.hrtime();return b=>{const s=process.hrtime(d),S=s[0]+s[1]/1e9;return this.observe(Object.assign({},M,b),S),S}}}function v(M,d){return()=>{const b=process.hrtime();return(s,S)=>{const x=process.hrtime(b),C=x[0]+x[1]/1e9;return this.observe({labels:Object.assign({},M,s),value:C,exemplarLabels:Object.assign({},d,S)}),C}}}function E(M,d,b,s,S={}){return{labels:M,sharedLabels:S,value:d,metricName:b,exemplar:s}}function _(M,d){for(let b=0;b<M.length;b++){const s=M[b];if(d<=s)return s}return-1}function f(M){return d=>{const b=p(M,d);if(a(this.labelNames,b.labels),!Number.isFinite(b.value))throw new TypeError(`Value is not a valid number: ${e.format(b.value)}`);const s=r(b.labels,this.sortedLabelNames);let S=this.hashMap[s];S||(S=h(b.labels,this.bucketValues,this.bucketExemplars));const x=_(this.upperBounds,b.value);S.sum+=b.value,S.count+=1,Object.prototype.hasOwnProperty.call(S.bucketValues,x)&&(S.bucketValues[x]+=1),this.hashMap[s]=S}}function h(M,d,b){return{labels:M,bucketValues:{...d},bucketExemplars:{...b},sum:0,count:0}}function p(M,d){return n(M)?{labels:M,value:d}:{value:M,labels:{}}}function w(M){const d=`${M.name}_bucket`;return b=>{let s=0;return{buckets:M.upperBounds.map(x=>(s+=b.bucketValues[x],E({le:x},s,d,b.bucketExemplars[x],b.labels))),data:b}}}function R(M){return(d,b)=>{d.push(...b.buckets);const s={le:"+Inf"};return d.push(E(s,b.data.count,`${M.name}_bucket`,b.data.bucketExemplars[-1],b.data.labels),E({},b.data.sum,`${M.name}_sum`,void 0,b.data.labels),E({},b.data.count,`${M.name}_count`,void 0,b.data.labels)),d}}function T(M){const{sharedLabels:d,labels:b,...s}=M;for(const S of Object.keys(d))b[S]=d[S];return s.labels=b,s}return kt=l,kt}var Gt,jn;function Eo(){if(jn)return Gt;jn=1;function e(){}e.prototype.clear=function(){this._root=null,this.size=0},e.prototype.find=function(r){for(var n=this._root;n!==null;){var o=this._comparator(r,n.data);if(o===0)return n.data;n=n.get_child(o>0)}return null},e.prototype.findIter=function(r){for(var n=this._root,o=this.iterator();n!==null;){var i=this._comparator(r,n.data);if(i===0)return o._cursor=n,o;o._ancestors.push(n),n=n.get_child(i>0)}return null},e.prototype.lowerBound=function(r){for(var n=this._root,o=this.iterator(),i=this._comparator;n!==null;){var a=i(r,n.data);if(a===0)return o._cursor=n,o;o._ancestors.push(n),n=n.get_child(a>0)}for(var u=o._ancestors.length-1;u>=0;--u)if(n=o._ancestors[u],i(r,n.data)<0)return o._cursor=n,o._ancestors.length=u,o;return o._ancestors.length=0,o},e.prototype.upperBound=function(r){for(var n=this.lowerBound(r),o=this._comparator;n.data()!==null&&o(n.data(),r)===0;)n.next();return n},e.prototype.min=function(){var r=this._root;if(r===null)return null;for(;r.left!==null;)r=r.left;return r.data},e.prototype.max=function(){var r=this._root;if(r===null)return null;for(;r.right!==null;)r=r.right;return r.data},e.prototype.iterator=function(){return new t(this)},e.prototype.each=function(r){for(var n=this.iterator(),o;(o=n.next())!==null;)if(r(o)===!1)return},e.prototype.reach=function(r){for(var n=this.iterator(),o;(o=n.prev())!==null;)if(r(o)===!1)return};function t(r){this._tree=r,this._ancestors=[],this._cursor=null}return t.prototype.data=function(){return this._cursor!==null?this._cursor.data:null},t.prototype.next=function(){if(this._cursor===null){var r=this._tree._root;r!==null&&this._minNode(r)}else if(this._cursor.right===null){var n;do if(n=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.right===n)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return this._cursor!==null?this._cursor.data:null},t.prototype.prev=function(){if(this._cursor===null){var r=this._tree._root;r!==null&&this._maxNode(r)}else if(this._cursor.left===null){var n;do if(n=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.left===n)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return this._cursor!==null?this._cursor.data:null},t.prototype._minNode=function(r){for(;r.left!==null;)this._ancestors.push(r),r=r.left;this._cursor=r},t.prototype._maxNode=function(r){for(;r.right!==null;)this._ancestors.push(r),r=r.right;this._cursor=r},Gt=e,Gt}var Vt,Bn;function ci(){if(Bn)return Vt;Bn=1;var e=Eo();function t(a){this.data=a,this.left=null,this.right=null,this.red=!0}t.prototype.get_child=function(a){return a?this.right:this.left},t.prototype.set_child=function(a,u){a?this.right=u:this.left=u};function r(a){this._root=null,this._comparator=a,this.size=0}r.prototype=new e,r.prototype.insert=function(a){var u=!1;if(this._root===null)this._root=new t(a),u=!0,this.size++;else{var c=new t(void 0),l=0,y=0,v=null,E=c,_=null,f=this._root;for(E.right=this._root;;){if(f===null?(f=new t(a),_.set_child(l,f),u=!0,this.size++):n(f.left)&&n(f.right)&&(f.red=!0,f.left.red=!1,f.right.red=!1),n(f)&&n(_)){var h=E.right===v;f===_.get_child(y)?E.set_child(h,o(v,!y)):E.set_child(h,i(v,!y))}var p=this._comparator(f.data,a);if(p===0)break;y=l,l=p<0,v!==null&&(E=v),v=_,_=f,f=f.get_child(l)}this._root=c.right}return this._root.red=!1,u},r.prototype.remove=function(a){if(this._root===null)return!1;var u=new t(void 0),c=u;c.right=this._root;for(var l=null,y=null,v=null,E=1;c.get_child(E)!==null;){var _=E;y=l,l=c,c=c.get_child(E);var f=this._comparator(a,c.data);if(E=f>0,f===0&&(v=c),!n(c)&&!n(c.get_child(E))){if(n(c.get_child(!E))){var h=o(c,E);l.set_child(_,h),l=h}else if(!n(c.get_child(!E))){var p=l.get_child(!_);if(p!==null)if(!n(p.get_child(!_))&&!n(p.get_child(_)))l.red=!1,p.red=!0,c.red=!0;else{var w=y.right===l;n(p.get_child(_))?y.set_child(w,i(l,_)):n(p.get_child(!_))&&y.set_child(w,o(l,_));var R=y.get_child(w);R.red=!0,c.red=!0,R.left.red=!1,R.right.red=!1}}}}return v!==null&&(v.data=c.data,l.set_child(l.right===c,c.get_child(c.left===null)),this.size--),this._root=u.right,this._root!==null&&(this._root.red=!1),v!==null};function n(a){return a!==null&&a.red}function o(a,u){var c=a.get_child(!u);return a.set_child(!u,c.get_child(u)),c.set_child(u,a),a.red=!0,c.red=!1,c}function i(a,u){return a.set_child(!u,o(a.get_child(!u),!u)),o(a,u)}return Vt=r,Vt}var $t,kn;function li(){if(kn)return $t;kn=1;var e=Eo();function t(n){this.data=n,this.left=null,this.right=null}t.prototype.get_child=function(n){return n?this.right:this.left},t.prototype.set_child=function(n,o){n?this.right=o:this.left=o};function r(n){this._root=null,this._comparator=n,this.size=0}return r.prototype=new e,r.prototype.insert=function(n){if(this._root===null)return this._root=new t(n),this.size++,!0;for(var o=0,i=null,a=this._root;;){if(a===null)return a=new t(n),i.set_child(o,a),ret=!0,this.size++,!0;if(this._comparator(a.data,n)===0)return!1;o=this._comparator(a.data,n)<0,i=a,a=a.get_child(o)}},r.prototype.remove=function(n){if(this._root===null)return!1;var o=new t(void 0),i=o;i.right=this._root;for(var a=null,u=null,c=1;i.get_child(c)!==null;){a=i,i=i.get_child(c);var l=this._comparator(n,i.data);c=l>0,l===0&&(u=i)}return u!==null?(u.data=i.data,a.set_child(a.right===i,i.get_child(i.left===null)),this._root=o.right,this.size--,!0):!1},$t=r,$t}var Ht,Gn;function fi(){return Gn||(Gn=1,Ht={RBTree:ci(),BinTree:li()}),Ht}var zt,Vn;function pi(){if(Vn)return zt;Vn=1;var e=fi().RBTree;function t(a,u,c){this.discrete=a===!1,this.delta=a||.01,this.K=u===void 0?25:u,this.CX=c===void 0?1.1:c,this.centroids=new e(r),this.nreset=0,this.reset()}t.prototype.reset=function(){this.centroids.clear(),this.n=0,this.nreset+=1,this.last_cumulate=0},t.prototype.size=function(){return this.centroids.size},t.prototype.toArray=function(a){var u=[];return a?(this._cumulate(!0),this.centroids.each(function(c){u.push(c)})):this.centroids.each(function(c){u.push({mean:c.mean,n:c.n})}),u},t.prototype.summary=function(){var a=this.discrete?"exact ":"approximating ",u=[a+this.n+" samples using "+this.size()+" centroids","min = "+this.percentile(0),"Q1  = "+this.percentile(.25),"Q2  = "+this.percentile(.5),"Q3  = "+this.percentile(.75),"max = "+this.percentile(1)];return u.join(`
`)};function r(a,u){return a.mean>u.mean?1:a.mean<u.mean?-1:0}function n(a,u){return a.mean_cumn-u.mean_cumn}t.prototype.push=function(a,u){u=u||1,a=Array.isArray(a)?a:[a];for(var c=0;c<a.length;c++)this._digest(a[c],u)},t.prototype.push_centroid=function(a){a=Array.isArray(a)?a:[a];for(var u=0;u<a.length;u++)this._digest(a[u].mean,a[u].n)},t.prototype._cumulate=function(a){if(!(this.n===this.last_cumulate||!a&&this.CX&&this.CX>this.n/this.last_cumulate)){var u=0;this.centroids.each(function(c){c.mean_cumn=u+c.n/2,u=c.cumn=u+c.n}),this.n=this.last_cumulate=u}},t.prototype.find_nearest=function(a){if(this.size()===0)return null;var u=this.centroids.lowerBound({mean:a}),c=u.data()===null?u.prev():u.data();if(c.mean===a||this.discrete)return c;var l=u.prev();return l&&Math.abs(l.mean-a)<Math.abs(c.mean-a)?l:c},t.prototype._new_centroid=function(a,u,c){var l={mean:a,n:u,cumn:c};return this.centroids.insert(l),this.n+=u,l},t.prototype._addweight=function(a,u,c){u!==a.mean&&(a.mean+=c*(u-a.mean)/(a.n+c)),a.cumn+=c,a.mean_cumn+=c/2,a.n+=c,this.n+=c},t.prototype._digest=function(a,u){var c=this.centroids.min(),l=this.centroids.max(),y=this.find_nearest(a);if(y&&y.mean===a)this._addweight(y,a,u);else if(y===c)this._new_centroid(a,u,0);else if(y===l)this._new_centroid(a,u,this.n);else if(this.discrete)this._new_centroid(a,u,y.cumn);else{var v=y.mean_cumn/this.n,E=Math.floor(4*this.n*this.delta*v*(1-v));E-y.n>=u?this._addweight(y,a,u):this._new_centroid(a,u,y.cumn)}this._cumulate(!1),!this.discrete&&this.K&&this.size()>this.K/this.delta&&this.compress()},t.prototype.bound_mean=function(a){var u=this.centroids.upperBound({mean:a}),c=u.prev(),l=c.mean===a?c:u.next();return[c,l]},t.prototype.p_rank=function(a){var u=Array.isArray(a)?a:[a],c=u.map(this._p_rank,this);return Array.isArray(a)?c:c[0]},t.prototype._p_rank=function(a){if(this.size()!==0){{if(a<this.centroids.min().mean)return 0;if(a>this.centroids.max().mean)return 1}this._cumulate(!0);var u=this.bound_mean(a),c=u[0],l=u[1];if(this.discrete)return c.cumn/this.n;var y=c.mean_cumn;return c!==l&&(y+=(a-c.mean)*(l.mean_cumn-c.mean_cumn)/(l.mean-c.mean)),y/this.n}},t.prototype.bound_mean_cumn=function(a){this.centroids._comparator=n;var u=this.centroids.upperBound({mean_cumn:a});this.centroids._comparator=r;var c=u.prev(),l=c&&c.mean_cumn===a?c:u.next();return[c,l]},t.prototype.percentile=function(a){var u=Array.isArray(a)?a:[a],c=u.map(this._percentile,this);return Array.isArray(a)?c:c[0]},t.prototype._percentile=function(a){if(this.size()!==0){this._cumulate(!0);var u=this.n*a,c=this.bound_mean_cumn(u),l=c[0],y=c[1];return y===l||l===null||y===null?(l||y).mean:this.discrete?u<=l.cumn?l.mean:y.mean:l.mean+(u-l.mean_cumn)*(y.mean-l.mean)/(y.mean_cumn-l.mean_cumn)}};function o(a){var u=Math.floor(Math.random()*a.length);return a.splice(u,1)[0]}t.prototype.compress=function(){if(!this.compressing){var a=this.toArray();for(this.reset(),this.compressing=!0;a.length>0;)this.push_centroid(o(a));this._cumulate(!0),this.compressing=!1}};function i(a){this.config=a||{},this.mode=this.config.mode||"auto",t.call(this,this.mode==="cont"?a.delta:!1),this.digest_ratio=this.config.ratio||.9,this.digest_thresh=this.config.thresh||1e3,this.n_unique=0}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype.push=function(a){t.prototype.push.call(this,a),this.check_continuous()},i.prototype._new_centroid=function(a,u,c){this.n_unique+=1,t.prototype._new_centroid.call(this,a,u,c)},i.prototype._addweight=function(a,u,c){a.n===1&&(this.n_unique-=1),t.prototype._addweight.call(this,a,u,c)},i.prototype.check_continuous=function(){return this.mode!=="auto"||this.size()<this.digest_thresh?!1:this.n_unique/this.size()>this.digest_ratio?(this.mode="cont",this.discrete=!1,this.delta=this.config.delta||.01,this.compress(),!0):!1},zt={TDigest:t,Digest:i},zt}var Wt,$n;function hi(){if($n)return Wt;$n=1;const{TDigest:e}=pi();class t{constructor(o,i){this.maxAgeSeconds=o||0,this.ageBuckets=i||0,this.shouldRotate=o&&i,this.ringBuffer=Array(i).fill(new e),this.currentBuffer=0,this.lastRotateTimestampMillis=Date.now(),this.durationBetweenRotatesMillis=o*1e3/i||1/0}size(){return r.call(this).size()}percentile(o){return r.call(this).percentile(o)}push(o){r.call(this),this.ringBuffer.forEach(i=>{i.push(o)})}reset(){this.ringBuffer.forEach(o=>{o.reset()})}compress(){this.ringBuffer.forEach(o=>{o.compress()})}}function r(){let n=Date.now()-this.lastRotateTimestampMillis;for(;n>this.durationBetweenRotatesMillis&&this.shouldRotate;)this.ringBuffer[this.currentBuffer]=new e,++this.currentBuffer>=this.ringBuffer.length&&(this.currentBuffer=0),n-=this.durationBetweenRotatesMillis,this.lastRotateTimestampMillis+=this.durationBetweenRotatesMillis;return this.ringBuffer[this.currentBuffer]}return Wt=t,Wt}var Jt,Hn;function di(){if(Hn)return Jt;Hn=1;const e=We(),{getLabels:t,hashObject:r,removeLabels:n}=_e(),{validateLabel:o}=qe(),{Metric:i}=bt(),a=hi(),u=1e3;class c extends i{constructor(p){super(p,{percentiles:[.01,.05,.5,.9,.95,.99,.999],compressCount:u,hashMap:{}}),this.type="summary";for(const w of this.labelNames)if(w==="quantile")throw new Error("quantile is a reserved label keyword");this.labelNames.length===0&&(this.hashMap={[r({})]:{labels:{},td:new a(this.maxAgeSeconds,this.ageBuckets),count:0,sum:0}})}observe(p,w){_.call(this,p===0?0:p||{})(w)}async get(){if(this.collect){const R=this.collect();R instanceof Promise&&await R}const p=Object.keys(this.hashMap),w=[];return p.forEach(R=>{const T=this.hashMap[R];T&&(this.pruneAgedBuckets&&T.td.size()===0?delete this.hashMap[R]:(l(T,this.percentiles).forEach(M=>{w.push(M)}),w.push(v(T,this)),w.push(y(T,this))))}),{name:this.name,help:this.help,type:this.type,values:w,aggregator:this.aggregator}}reset(){Object.values(this.hashMap).forEach(w=>{w.td.reset(),w.count=0,w.sum=0})}startTimer(p){return E.call(this,p)()}labels(...p){const w=t(this.labelNames,p);return o(this.labelNames,w),{observe:_.call(this,w),startTimer:E.call(this,w)}}remove(...p){const w=t(this.labelNames,p);o(this.labelNames,w),n.call(this,this.hashMap,w,this.sortedLabelNames)}}function l(h,p){return h.td.compress(),p.map(w=>{const R=h.td.percentile(w);return{labels:Object.assign({quantile:w},h.labels),value:R||0}})}function y(h,p){return{metricName:`${p.name}_count`,labels:h.labels,value:h.count}}function v(h,p){return{metricName:`${p.name}_sum`,labels:h.labels,value:h.sum}}function E(h){return()=>{const p=process.hrtime();return w=>{const R=process.hrtime(p),T=R[0]+R[1]/1e9;return this.observe(Object.assign({},h,w),T),T}}}function _(h){return p=>{const w=f(h,p);if(o(this.labelNames,h),!Number.isFinite(w.value))throw new TypeError(`Value is not a valid number: ${e.format(w.value)}`);const R=r(w.labels,this.sortedLabelNames);let T=this.hashMap[R];T||(T={labels:w.labels,td:new a(this.maxAgeSeconds,this.ageBuckets),count:0,sum:0}),T.td.push(w.value),T.count++,T.count%this.compressCount===0&&T.td.compress(),T.sum+=w.value,this.hashMap[R]=T}}function f(h,p){return p===void 0?{value:h,labels:{}}:{labels:h,value:p}}return Jt=c,Jt}var Se={},Ge={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var yi=Ge.exports,zn;function mi(){return zn||(zn=1,function(e,t){(function(r){var n=t&&!t.nodeType&&t,o=e&&!e.nodeType&&e,i=typeof gt=="object"&&gt;(i.global===i||i.window===i||i.self===i)&&(r=i);var a,u=2147483647,c=36,l=1,y=26,v=38,E=700,_=72,f=128,h="-",p=/^xn--/,w=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=c-l,d=Math.floor,b=String.fromCharCode,s;function S(q){throw new RangeError(T[q])}function x(q,B){for(var m=q.length,g=[];m--;)g[m]=B(q[m]);return g}function C(q,B){var m=q.split("@"),g="";m.length>1&&(g=m[0]+"@",q=m[1]),q=q.replace(R,".");var N=q.split("."),U=x(N,B).join(".");return g+U}function L(q){for(var B=[],m=0,g=q.length,N,U;m<g;)N=q.charCodeAt(m++),N>=55296&&N<=56319&&m<g?(U=q.charCodeAt(m++),(U&64512)==56320?B.push(((N&1023)<<10)+(U&1023)+65536):(B.push(N),m--)):B.push(N);return B}function I(q){return x(q,function(B){var m="";return B>65535&&(B-=65536,m+=b(B>>>10&1023|55296),B=56320|B&1023),m+=b(B),m}).join("")}function J(q){return q-48<10?q-22:q-65<26?q-65:q-97<26?q-97:c}function $(q,B){return q+22+75*(q<26)-((B!=0)<<5)}function Y(q,B,m){var g=0;for(q=m?d(q/E):q>>1,q+=d(q/B);q>M*y>>1;g+=c)q=d(q/M);return d(g+(M+1)*q/(q+v))}function H(q){var B=[],m=q.length,g,N=0,U=f,F=_,k,G,j,D,V,W,Q,Z,te;for(k=q.lastIndexOf(h),k<0&&(k=0),G=0;G<k;++G)q.charCodeAt(G)>=128&&S("not-basic"),B.push(q.charCodeAt(G));for(j=k>0?k+1:0;j<m;){for(D=N,V=1,W=c;j>=m&&S("invalid-input"),Q=J(q.charCodeAt(j++)),(Q>=c||Q>d((u-N)/V))&&S("overflow"),N+=Q*V,Z=W<=F?l:W>=F+y?y:W-F,!(Q<Z);W+=c)te=c-Z,V>d(u/te)&&S("overflow"),V*=te;g=B.length+1,F=Y(N-D,g,D==0),d(N/g)>u-U&&S("overflow"),U+=d(N/g),N%=g,B.splice(N++,0,U)}return I(B)}function z(q){var B,m,g,N,U,F,k,G,j,D,V,W=[],Q,Z,te,oe;for(q=L(q),Q=q.length,B=f,m=0,U=_,F=0;F<Q;++F)V=q[F],V<128&&W.push(b(V));for(g=N=W.length,N&&W.push(h);g<Q;){for(k=u,F=0;F<Q;++F)V=q[F],V>=B&&V<k&&(k=V);for(Z=g+1,k-B>d((u-m)/Z)&&S("overflow"),m+=(k-B)*Z,B=k,F=0;F<Q;++F)if(V=q[F],V<B&&++m>u&&S("overflow"),V==B){for(G=m,j=c;D=j<=U?l:j>=U+y?y:j-U,!(G<D);j+=c)oe=G-D,te=c-D,W.push(b($(D+oe%te,0))),G=d(oe/te);W.push(b($(G,0))),U=Y(m,Z,g==N),m=0,++g}++m,++B}return W.join("")}function P(q){return C(q,function(B){return p.test(B)?H(B.slice(4).toLowerCase()):B})}function X(q){return C(q,function(B){return w.test(B)?"xn--"+z(B):B})}if(a={version:"1.4.1",ucs2:{decode:L,encode:I},decode:H,encode:z,toASCII:X,toUnicode:P},n&&o)if(e.exports==n)o.exports=a;else for(s in a)a.hasOwnProperty(s)&&(n[s]=a[s]);else r.punycode=a})(yi)}(Ge,Ge.exports)),Ge.exports}var Yt,Wn;function Ue(){return Wn||(Wn=1,Yt=TypeError),Yt}const vi={},gi=Object.freeze(Object.defineProperty({__proto__:null,default:vi},Symbol.toStringTag,{value:"Module"})),me=mo(gi);var Kt,Jn;function Et(){if(Jn)return Kt;Jn=1;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=e&&t&&typeof t.get=="function"?t.get:null,n=e&&Map.prototype.forEach,o=typeof Set=="function"&&Set.prototype,i=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,a=o&&i&&typeof i.get=="function"?i.get:null,u=o&&Set.prototype.forEach,c=typeof WeakMap=="function"&&WeakMap.prototype,l=c?WeakMap.prototype.has:null,y=typeof WeakSet=="function"&&WeakSet.prototype,v=y?WeakSet.prototype.has:null,E=typeof WeakRef=="function"&&WeakRef.prototype,_=E?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,h=Object.prototype.toString,p=Function.prototype.toString,w=String.prototype.match,R=String.prototype.slice,T=String.prototype.replace,M=String.prototype.toUpperCase,d=String.prototype.toLowerCase,b=RegExp.prototype.test,s=Array.prototype.concat,S=Array.prototype.join,x=Array.prototype.slice,C=Math.floor,L=typeof BigInt=="function"?BigInt.prototype.valueOf:null,I=Object.getOwnPropertySymbols,J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,$=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Y=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===$||!0)?Symbol.toStringTag:null,H=Object.prototype.propertyIsEnumerable,z=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(O){return O.__proto__}:null);function P(O,A){if(O===1/0||O===-1/0||O!==O||O&&O>-1e3&&O<1e3||b.call(/e/,A))return A;var ee=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof O=="number"){var re=O<0?-C(-O):C(O);if(re!==O){var ae=String(re),K=R.call(A,ae.length+1);return T.call(ae,ee,"$&_")+"."+T.call(T.call(K,/([0-9]{3})/g,"$&_"),/_$/,"")}}return T.call(A,ee,"$&_")}var X=me,q=X.custom,B=Z(q)?q:null,m={__proto__:null,double:'"',single:"'"},g={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Kt=function O(A,ee,re,ae){var K=ee||{};if(se(K,"quoteStyle")&&!se(m,K.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(se(K,"maxStringLength")&&(typeof K.maxStringLength=="number"?K.maxStringLength<0&&K.maxStringLength!==1/0:K.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ee=se(K,"customInspect")?K.customInspect:!0;if(typeof Ee!="boolean"&&Ee!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(se(K,"indent")&&K.indent!==null&&K.indent!=="	"&&!(parseInt(K.indent,10)===K.indent&&K.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(se(K,"numericSeparator")&&typeof K.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ae=K.numericSeparator;if(typeof A>"u")return"undefined";if(A===null)return"null";if(typeof A=="boolean")return A?"true":"false";if(typeof A=="string")return vn(A,K);if(typeof A=="number"){if(A===0)return 1/0/A>0?"0":"-0";var fe=String(A);return Ae?P(A,fe):fe}if(typeof A=="bigint"){var Oe=String(A)+"n";return Ae?P(A,Oe):Oe}var Tt=typeof K.depth>"u"?5:K.depth;if(typeof re>"u"&&(re=0),re>=Tt&&Tt>0&&typeof A=="object")return k(A)?"[Array]":"[Object]";var Ce=ei(K,re);if(typeof ae>"u")ae=[];else if(be(ae,A)>=0)return"[Circular]";function de(De,Qe,ri){if(Qe&&(ae=x.call(ae),ae.push(Qe)),ri){var Nn={depth:K.depth};return se(K,"quoteStyle")&&(Nn.quoteStyle=K.quoteStyle),O(De,Nn,re+1,ae)}return O(De,K,re+1,ae)}if(typeof A=="function"&&!j(A)){var _n=xe(A),bn=Ke(A,de);return"[Function"+(_n?": "+_n:" (anonymous)")+"]"+(bn.length>0?" { "+S.call(bn,", ")+" }":"")}if(Z(A)){var En=$?T.call(String(A),/^(Symbol\(.*\))_[^)]*$/,"$1"):J.call(A);return typeof A=="object"&&!$?Fe(En):En}if(Xo(A)){for(var je="<"+d.call(String(A.nodeName)),xt=A.attributes||[],Xe=0;Xe<xt.length;Xe++)je+=" "+xt[Xe].name+"="+N(U(xt[Xe].value),"double",K);return je+=">",A.childNodes&&A.childNodes.length&&(je+="..."),je+="</"+d.call(String(A.nodeName))+">",je}if(k(A)){if(A.length===0)return"[]";var Pt=Ke(A,de);return Ce&&!Zo(Pt)?"["+Rt(Pt,Ce)+"]":"[ "+S.call(Pt,", ")+" ]"}if(D(A)){var It=Ke(A,de);return!("cause"in Error.prototype)&&"cause"in A&&!H.call(A,"cause")?"{ ["+String(A)+"] "+S.call(s.call("[cause]: "+de(A.cause),It),", ")+" }":It.length===0?"["+String(A)+"]":"{ ["+String(A)+"] "+S.call(It,", ")+" }"}if(typeof A=="object"&&Ee){if(B&&typeof A[B]=="function"&&X)return X(A,{depth:Tt-re});if(Ee!=="symbol"&&typeof A.inspect=="function")return A.inspect()}if(he(A)){var On=[];return n&&n.call(A,function(De,Qe){On.push(de(Qe,A,!0)+" => "+de(De,A))}),gn("Map",r.call(A),On,Ce)}if(Me(A)){var wn=[];return u&&u.call(A,function(De){wn.push(de(De,A))}),gn("Set",a.call(A),wn,Ce)}if(Pe(A))return Nt("WeakMap");if(Ko(A))return Nt("WeakSet");if(Ie(A))return Nt("WeakRef");if(W(A))return Fe(de(Number(A)));if(te(A))return Fe(de(L.call(A)));if(Q(A))return Fe(f.call(A));if(V(A))return Fe(de(String(A)));if(typeof window<"u"&&A===window)return"{ [object Window] }";if(typeof globalThis<"u"&&A===globalThis||typeof gt<"u"&&A===gt)return"{ [object globalThis] }";if(!G(A)&&!j(A)){var Mt=Ke(A,de),An=z?z(A)===Object.prototype:A instanceof Object||A.constructor===Object,Ct=A instanceof Object?"":"null prototype",Sn=!An&&Y&&Object(A)===A&&Y in A?R.call(ce(A),8,-1):Ct?"Object":"",ti=An||typeof A.constructor!="function"?"":A.constructor.name?A.constructor.name+" ":"",Dt=ti+(Sn||Ct?"["+S.call(s.call([],Sn||[],Ct||[]),": ")+"] ":"");return Mt.length===0?Dt+"{}":Ce?Dt+"{"+Rt(Mt,Ce)+"}":Dt+"{ "+S.call(Mt,", ")+" }"}return String(A)};function N(O,A,ee){var re=ee.quoteStyle||A,ae=m[re];return ae+O+ae}function U(O){return T.call(String(O),/"/g,"&quot;")}function F(O){return!Y||!(typeof O=="object"&&(Y in O||typeof O[Y]<"u"))}function k(O){return ce(O)==="[object Array]"&&F(O)}function G(O){return ce(O)==="[object Date]"&&F(O)}function j(O){return ce(O)==="[object RegExp]"&&F(O)}function D(O){return ce(O)==="[object Error]"&&F(O)}function V(O){return ce(O)==="[object String]"&&F(O)}function W(O){return ce(O)==="[object Number]"&&F(O)}function Q(O){return ce(O)==="[object Boolean]"&&F(O)}function Z(O){if($)return O&&typeof O=="object"&&O instanceof Symbol;if(typeof O=="symbol")return!0;if(!O||typeof O!="object"||!J)return!1;try{return J.call(O),!0}catch{}return!1}function te(O){if(!O||typeof O!="object"||!L)return!1;try{return L.call(O),!0}catch{}return!1}var oe=Object.prototype.hasOwnProperty||function(O){return O in this};function se(O,A){return oe.call(O,A)}function ce(O){return h.call(O)}function xe(O){if(O.name)return O.name;var A=w.call(p.call(O),/^function\s*([\w$]+)/);return A?A[1]:null}function be(O,A){if(O.indexOf)return O.indexOf(A);for(var ee=0,re=O.length;ee<re;ee++)if(O[ee]===A)return ee;return-1}function he(O){if(!r||!O||typeof O!="object")return!1;try{r.call(O);try{a.call(O)}catch{return!0}return O instanceof Map}catch{}return!1}function Pe(O){if(!l||!O||typeof O!="object")return!1;try{l.call(O,l);try{v.call(O,v)}catch{return!0}return O instanceof WeakMap}catch{}return!1}function Ie(O){if(!_||!O||typeof O!="object")return!1;try{return _.call(O),!0}catch{}return!1}function Me(O){if(!a||!O||typeof O!="object")return!1;try{a.call(O);try{r.call(O)}catch{return!0}return O instanceof Set}catch{}return!1}function Ko(O){if(!v||!O||typeof O!="object")return!1;try{v.call(O,v);try{l.call(O,l)}catch{return!0}return O instanceof WeakSet}catch{}return!1}function Xo(O){return!O||typeof O!="object"?!1:typeof HTMLElement<"u"&&O instanceof HTMLElement?!0:typeof O.nodeName=="string"&&typeof O.getAttribute=="function"}function vn(O,A){if(O.length>A.maxStringLength){var ee=O.length-A.maxStringLength,re="... "+ee+" more character"+(ee>1?"s":"");return vn(R.call(O,0,A.maxStringLength),A)+re}var ae=g[A.quoteStyle||"single"];ae.lastIndex=0;var K=T.call(T.call(O,ae,"\\$1"),/[\x00-\x1f]/g,Qo);return N(K,"single",A)}function Qo(O){var A=O.charCodeAt(0),ee={8:"b",9:"t",10:"n",12:"f",13:"r"}[A];return ee?"\\"+ee:"\\x"+(A<16?"0":"")+M.call(A.toString(16))}function Fe(O){return"Object("+O+")"}function Nt(O){return O+" { ? }"}function gn(O,A,ee,re){var ae=re?Rt(ee,re):S.call(ee,", ");return O+" ("+A+") {"+ae+"}"}function Zo(O){for(var A=0;A<O.length;A++)if(be(O[A],`
`)>=0)return!1;return!0}function ei(O,A){var ee;if(O.indent==="	")ee="	";else if(typeof O.indent=="number"&&O.indent>0)ee=S.call(Array(O.indent+1)," ");else return null;return{base:ee,prev:S.call(Array(A+1),ee)}}function Rt(O,A){if(O.length===0)return"";var ee=`
`+A.prev+A.base;return ee+S.call(O,","+ee)+`
`+A.prev}function Ke(O,A){var ee=k(O),re=[];if(ee){re.length=O.length;for(var ae=0;ae<O.length;ae++)re[ae]=se(O,ae)?A(O[ae],O):""}var K=typeof I=="function"?I(O):[],Ee;if($){Ee={};for(var Ae=0;Ae<K.length;Ae++)Ee["$"+K[Ae]]=K[Ae]}for(var fe in O)se(O,fe)&&(ee&&String(Number(fe))===fe&&fe<O.length||$&&Ee["$"+fe]instanceof Symbol||(b.call(/[^\w$]/,fe)?re.push(A(fe,O)+": "+A(O[fe],O)):re.push(fe+": "+A(O[fe],O))));if(typeof I=="function")for(var Oe=0;Oe<K.length;Oe++)H.call(O,K[Oe])&&re.push("["+A(K[Oe])+"]: "+A(O[K[Oe]],O));return re}return Kt}var Xt,Yn;function _i(){if(Yn)return Xt;Yn=1;var e=Et(),t=Ue(),r=function(u,c,l){for(var y=u,v;(v=y.next)!=null;y=v)if(v.key===c)return y.next=v.next,l||(v.next=u.next,u.next=v),v},n=function(u,c){if(u){var l=r(u,c);return l&&l.value}},o=function(u,c,l){var y=r(u,c);y?y.value=l:u.next={key:c,next:u.next,value:l}},i=function(u,c){return u?!!r(u,c):!1},a=function(u,c){if(u)return r(u,c,!0)};return Xt=function(){var c,l={assert:function(y){if(!l.has(y))throw new t("Side channel does not contain "+e(y))},delete:function(y){var v=c&&c.next,E=a(c,y);return E&&v&&v===E&&(c=void 0),!!E},get:function(y){return n(c,y)},has:function(y){return i(c,y)},set:function(y,v){c||(c={next:void 0}),o(c,y,v)}};return l},Xt}var Qt,Kn;function Oo(){return Kn||(Kn=1,Qt=Object),Qt}var Zt,Xn;function bi(){return Xn||(Xn=1,Zt=Error),Zt}var er,Qn;function Ei(){return Qn||(Qn=1,er=EvalError),er}var tr,Zn;function Oi(){return Zn||(Zn=1,tr=RangeError),tr}var rr,ea;function wi(){return ea||(ea=1,rr=ReferenceError),rr}var nr,ta;function Ai(){return ta||(ta=1,nr=SyntaxError),nr}var ar,ra;function Si(){return ra||(ra=1,ar=URIError),ar}var or,na;function Ni(){return na||(na=1,or=Math.abs),or}var ir,aa;function Ri(){return aa||(aa=1,ir=Math.floor),ir}var sr,oa;function Ti(){return oa||(oa=1,sr=Math.max),sr}var ur,ia;function xi(){return ia||(ia=1,ur=Math.min),ur}var cr,sa;function Pi(){return sa||(sa=1,cr=Math.pow),cr}var lr,ua;function Ii(){return ua||(ua=1,lr=Math.round),lr}var fr,ca;function Mi(){return ca||(ca=1,fr=Number.isNaN||function(t){return t!==t}),fr}var pr,la;function Ci(){if(la)return pr;la=1;var e=Mi();return pr=function(r){return e(r)||r===0?r:r<0?-1:1},pr}var hr,fa;function Di(){return fa||(fa=1,hr=Object.getOwnPropertyDescriptor),hr}var dr,pa;function wo(){if(pa)return dr;pa=1;var e=Di();if(e)try{e([],"length")}catch{e=null}return dr=e,dr}var yr,ha;function Li(){if(ha)return yr;ha=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return yr=e,yr}var mr,da;function qi(){return da||(da=1,mr=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;t[r]=o;for(var i in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(t,r);if(u.value!==o||u.enumerable!==!0)return!1}return!0}),mr}var vr,ya;function Ui(){if(ya)return vr;ya=1;var e=typeof Symbol<"u"&&Symbol,t=qi();return vr=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},vr}var gr,ma;function Ao(){return ma||(ma=1,gr=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),gr}var _r,va;function So(){if(va)return _r;va=1;var e=Oo();return _r=e.getPrototypeOf||null,_r}var br,ga;function Fi(){if(ga)return br;ga=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",o=function(c,l){for(var y=[],v=0;v<c.length;v+=1)y[v]=c[v];for(var E=0;E<l.length;E+=1)y[E+c.length]=l[E];return y},i=function(c,l){for(var y=[],v=l,E=0;v<c.length;v+=1,E+=1)y[E]=c[v];return y},a=function(u,c){for(var l="",y=0;y<u.length;y+=1)l+=u[y],y+1<u.length&&(l+=c);return l};return br=function(c){var l=this;if(typeof l!="function"||t.apply(l)!==n)throw new TypeError(e+l);for(var y=i(arguments,1),v,E=function(){if(this instanceof v){var w=l.apply(this,o(y,arguments));return Object(w)===w?w:this}return l.apply(c,o(y,arguments))},_=r(0,l.length-y.length),f=[],h=0;h<_;h++)f[h]="$"+h;if(v=Function("binder","return function ("+a(f,",")+"){ return binder.apply(this,arguments); }")(E),l.prototype){var p=function(){};p.prototype=l.prototype,v.prototype=new p,p.prototype=null}return v},br}var Er,_a;function Ot(){if(_a)return Er;_a=1;var e=Fi();return Er=Function.prototype.bind||e,Er}var Or,ba;function an(){return ba||(ba=1,Or=Function.prototype.call),Or}var wr,Ea;function No(){return Ea||(Ea=1,wr=Function.prototype.apply),wr}var Ar,Oa;function ji(){return Oa||(Oa=1,Ar=typeof Reflect<"u"&&Reflect&&Reflect.apply),Ar}var Sr,wa;function Bi(){if(wa)return Sr;wa=1;var e=Ot(),t=No(),r=an(),n=ji();return Sr=n||e.call(r,t),Sr}var Nr,Aa;function Ro(){if(Aa)return Nr;Aa=1;var e=Ot(),t=Ue(),r=an(),n=Bi();return Nr=function(i){if(i.length<1||typeof i[0]!="function")throw new t("a function is required");return n(e,r,i)},Nr}var Rr,Sa;function ki(){if(Sa)return Rr;Sa=1;var e=Ro(),t=wo(),r;try{r=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!r&&t&&t(Object.prototype,"__proto__"),o=Object,i=o.getPrototypeOf;return Rr=n&&typeof n.get=="function"?e([n.get]):typeof i=="function"?function(u){return i(u==null?u:o(u))}:!1,Rr}var Tr,Na;function Gi(){if(Na)return Tr;Na=1;var e=Ao(),t=So(),r=ki();return Tr=e?function(o){return e(o)}:t?function(o){if(!o||typeof o!="object"&&typeof o!="function")throw new TypeError("getProto: not an object");return t(o)}:r?function(o){return r(o)}:null,Tr}var xr,Ra;function Vi(){if(Ra)return xr;Ra=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=Ot();return xr=r.call(e,t),xr}var Pr,Ta;function on(){if(Ta)return Pr;Ta=1;var e,t=Oo(),r=bi(),n=Ei(),o=Oi(),i=wi(),a=Ai(),u=Ue(),c=Si(),l=Ni(),y=Ri(),v=Ti(),E=xi(),_=Pi(),f=Ii(),h=Ci(),p=Function,w=function(j){try{return p('"use strict"; return ('+j+").constructor;")()}catch{}},R=wo(),T=Li(),M=function(){throw new u},d=R?function(){try{return arguments.callee,M}catch{try{return R(arguments,"callee").get}catch{return M}}}():M,b=Ui()(),s=Gi(),S=So(),x=Ao(),C=No(),L=an(),I={},J=typeof Uint8Array>"u"||!s?e:s(Uint8Array),$={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":b&&s?s([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":I,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":b&&s?s(s([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!b||!s?e:s(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":R,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":o,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!b||!s?e:s(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":b&&s?s(""[Symbol.iterator]()):e,"%Symbol%":b?Symbol:e,"%SyntaxError%":a,"%ThrowTypeError%":d,"%TypedArray%":J,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":L,"%Function.prototype.apply%":C,"%Object.defineProperty%":T,"%Object.getPrototypeOf%":S,"%Math.abs%":l,"%Math.floor%":y,"%Math.max%":v,"%Math.min%":E,"%Math.pow%":_,"%Math.round%":f,"%Math.sign%":h,"%Reflect.getPrototypeOf%":x};if(s)try{null.error}catch(j){var Y=s(s(j));$["%Error.prototype%"]=Y}var H=function j(D){var V;if(D==="%AsyncFunction%")V=w("async function () {}");else if(D==="%GeneratorFunction%")V=w("function* () {}");else if(D==="%AsyncGeneratorFunction%")V=w("async function* () {}");else if(D==="%AsyncGenerator%"){var W=j("%AsyncGeneratorFunction%");W&&(V=W.prototype)}else if(D==="%AsyncIteratorPrototype%"){var Q=j("%AsyncGenerator%");Q&&s&&(V=s(Q.prototype))}return $[D]=V,V},z={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},P=Ot(),X=Vi(),q=P.call(L,Array.prototype.concat),B=P.call(C,Array.prototype.splice),m=P.call(L,String.prototype.replace),g=P.call(L,String.prototype.slice),N=P.call(L,RegExp.prototype.exec),U=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,F=/\\(\\)?/g,k=function(D){var V=g(D,0,1),W=g(D,-1);if(V==="%"&&W!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(W==="%"&&V!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var Q=[];return m(D,U,function(Z,te,oe,se){Q[Q.length]=oe?m(se,F,"$1"):te||Z}),Q},G=function(D,V){var W=D,Q;if(X(z,W)&&(Q=z[W],W="%"+Q[0]+"%"),X($,W)){var Z=$[W];if(Z===I&&(Z=H(W)),typeof Z>"u"&&!V)throw new u("intrinsic "+D+" exists, but is not available. Please file an issue!");return{alias:Q,name:W,value:Z}}throw new a("intrinsic "+D+" does not exist!")};return Pr=function(D,V){if(typeof D!="string"||D.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof V!="boolean")throw new u('"allowMissing" argument must be a boolean');if(N(/^%?[^%]*%?$/,D)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var W=k(D),Q=W.length>0?W[0]:"",Z=G("%"+Q+"%",V),te=Z.name,oe=Z.value,se=!1,ce=Z.alias;ce&&(Q=ce[0],B(W,q([0,1],ce)));for(var xe=1,be=!0;xe<W.length;xe+=1){var he=W[xe],Pe=g(he,0,1),Ie=g(he,-1);if((Pe==='"'||Pe==="'"||Pe==="`"||Ie==='"'||Ie==="'"||Ie==="`")&&Pe!==Ie)throw new a("property names with quotes must have matching quotes");if((he==="constructor"||!be)&&(se=!0),Q+="."+he,te="%"+Q+"%",X($,te))oe=$[te];else if(oe!=null){if(!(he in oe)){if(!V)throw new u("base intrinsic for "+D+" exists, but the property is not available.");return}if(R&&xe+1>=W.length){var Me=R(oe,he);be=!!Me,be&&"get"in Me&&!("originalValue"in Me.get)?oe=Me.get:oe=oe[he]}else be=X(oe,he),oe=oe[he];be&&!se&&($[te]=oe)}}return oe},Pr}var Ir,xa;function To(){if(xa)return Ir;xa=1;var e=on(),t=Ro(),r=t([e("%String.prototype.indexOf%")]);return Ir=function(o,i){var a=e(o,!!i);return typeof a=="function"&&r(o,".prototype.")>-1?t([a]):a},Ir}var Mr,Pa;function xo(){if(Pa)return Mr;Pa=1;var e=on(),t=To(),r=Et(),n=Ue(),o=e("%Map%",!0),i=t("Map.prototype.get",!0),a=t("Map.prototype.set",!0),u=t("Map.prototype.has",!0),c=t("Map.prototype.delete",!0),l=t("Map.prototype.size",!0);return Mr=!!o&&function(){var v,E={assert:function(_){if(!E.has(_))throw new n("Side channel does not contain "+r(_))},delete:function(_){if(v){var f=c(v,_);return l(v)===0&&(v=void 0),f}return!1},get:function(_){if(v)return i(v,_)},has:function(_){return v?u(v,_):!1},set:function(_,f){v||(v=new o),a(v,_,f)}};return E},Mr}var Cr,Ia;function $i(){if(Ia)return Cr;Ia=1;var e=on(),t=To(),r=Et(),n=xo(),o=Ue(),i=e("%WeakMap%",!0),a=t("WeakMap.prototype.get",!0),u=t("WeakMap.prototype.set",!0),c=t("WeakMap.prototype.has",!0),l=t("WeakMap.prototype.delete",!0);return Cr=i?function(){var v,E,_={assert:function(f){if(!_.has(f))throw new o("Side channel does not contain "+r(f))},delete:function(f){if(i&&f&&(typeof f=="object"||typeof f=="function")){if(v)return l(v,f)}else if(n&&E)return E.delete(f);return!1},get:function(f){return i&&f&&(typeof f=="object"||typeof f=="function")&&v?a(v,f):E&&E.get(f)},has:function(f){return i&&f&&(typeof f=="object"||typeof f=="function")&&v?c(v,f):!!E&&E.has(f)},set:function(f,h){i&&f&&(typeof f=="object"||typeof f=="function")?(v||(v=new i),u(v,f,h)):n&&(E||(E=n()),E.set(f,h))}};return _}:n,Cr}var Dr,Ma;function Po(){if(Ma)return Dr;Ma=1;var e=Ue(),t=Et(),r=_i(),n=xo(),o=$i(),i=o||n||r;return Dr=function(){var u,c={assert:function(l){if(!c.has(l))throw new e("Side channel does not contain "+t(l))},delete:function(l){return!!u&&u.delete(l)},get:function(l){return u&&u.get(l)},has:function(l){return!!u&&u.has(l)},set:function(l,y){u||(u=i()),u.set(l,y)}};return c},Dr}var Lr,Ca;function sn(){if(Ca)return Lr;Ca=1;var e=String.prototype.replace,t=/%20/g,r={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Lr={default:r.RFC3986,formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(n){return String(n)}},RFC1738:r.RFC1738,RFC3986:r.RFC3986},Lr}var qr,Da;function Io(){if(Da)return qr;Da=1;var e=sn(),t=Po(),r=Object.prototype.hasOwnProperty,n=Array.isArray,o=t(),i=function(s,S){return o.set(s,S),s},a=function(s){return o.has(s)},u=function(s){return o.get(s)},c=function(s,S){o.set(s,S)},l=function(){for(var b=[],s=0;s<256;++s)b.push("%"+((s<16?"0":"")+s.toString(16)).toUpperCase());return b}(),y=function(s){for(;s.length>1;){var S=s.pop(),x=S.obj[S.prop];if(n(x)){for(var C=[],L=0;L<x.length;++L)typeof x[L]<"u"&&C.push(x[L]);S.obj[S.prop]=C}}},v=function(s,S){for(var x=S&&S.plainObjects?{__proto__:null}:{},C=0;C<s.length;++C)typeof s[C]<"u"&&(x[C]=s[C]);return x},E=function b(s,S,x){if(!S)return s;if(typeof S!="object"&&typeof S!="function"){if(n(s))s.push(S);else if(s&&typeof s=="object")if(a(s)){var C=u(s)+1;s[C]=S,c(s,C)}else(x&&(x.plainObjects||x.allowPrototypes)||!r.call(Object.prototype,S))&&(s[S]=!0);else return[s,S];return s}if(!s||typeof s!="object"){if(a(S)){for(var L=Object.keys(S),I=x&&x.plainObjects?{__proto__:null,0:s}:{0:s},J=0;J<L.length;J++){var $=parseInt(L[J],10);I[$+1]=S[L[J]]}return i(I,u(S)+1)}return[s].concat(S)}var Y=s;return n(s)&&!n(S)&&(Y=v(s,x)),n(s)&&n(S)?(S.forEach(function(H,z){if(r.call(s,z)){var P=s[z];P&&typeof P=="object"&&H&&typeof H=="object"?s[z]=b(P,H,x):s.push(H)}else s[z]=H}),s):Object.keys(S).reduce(function(H,z){var P=S[z];return r.call(H,z)?H[z]=b(H[z],P,x):H[z]=P,H},Y)},_=function(s,S){return Object.keys(S).reduce(function(x,C){return x[C]=S[C],x},s)},f=function(b,s,S){var x=b.replace(/\+/g," ");if(S==="iso-8859-1")return x.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(x)}catch{return x}},h=1024,p=function(s,S,x,C,L){if(s.length===0)return s;var I=s;if(typeof s=="symbol"?I=Symbol.prototype.toString.call(s):typeof s!="string"&&(I=String(s)),x==="iso-8859-1")return escape(I).replace(/%u[0-9a-f]{4}/gi,function(X){return"%26%23"+parseInt(X.slice(2),16)+"%3B"});for(var J="",$=0;$<I.length;$+=h){for(var Y=I.length>=h?I.slice($,$+h):I,H=[],z=0;z<Y.length;++z){var P=Y.charCodeAt(z);if(P===45||P===46||P===95||P===126||P>=48&&P<=57||P>=65&&P<=90||P>=97&&P<=122||L===e.RFC1738&&(P===40||P===41)){H[H.length]=Y.charAt(z);continue}if(P<128){H[H.length]=l[P];continue}if(P<2048){H[H.length]=l[192|P>>6]+l[128|P&63];continue}if(P<55296||P>=57344){H[H.length]=l[224|P>>12]+l[128|P>>6&63]+l[128|P&63];continue}z+=1,P=65536+((P&1023)<<10|Y.charCodeAt(z)&1023),H[H.length]=l[240|P>>18]+l[128|P>>12&63]+l[128|P>>6&63]+l[128|P&63]}J+=H.join("")}return J},w=function(s){for(var S=[{obj:{o:s},prop:"o"}],x=[],C=0;C<S.length;++C)for(var L=S[C],I=L.obj[L.prop],J=Object.keys(I),$=0;$<J.length;++$){var Y=J[$],H=I[Y];typeof H=="object"&&H!==null&&x.indexOf(H)===-1&&(S.push({obj:I,prop:Y}),x.push(H))}return y(S),s},R=function(s){return Object.prototype.toString.call(s)==="[object RegExp]"},T=function(s){return!s||typeof s!="object"?!1:!!(s.constructor&&s.constructor.isBuffer&&s.constructor.isBuffer(s))},M=function(s,S,x,C){if(a(s)){var L=u(s)+1;return s[L]=S,c(s,L),s}var I=[].concat(s,S);return I.length>x?i(v(I,{plainObjects:C}),I.length-1):I},d=function(s,S){if(n(s)){for(var x=[],C=0;C<s.length;C+=1)x.push(S(s[C]));return x}return S(s)};return qr={arrayToObject:v,assign:_,combine:M,compact:w,decode:f,encode:p,isBuffer:T,isOverflow:a,isRegExp:R,maybeMap:d,merge:E},qr}var Ur,La;function Hi(){if(La)return Ur;La=1;var e=Po(),t=Io(),r=sn(),n=Object.prototype.hasOwnProperty,o={brackets:function(p){return p+"[]"},comma:"comma",indices:function(p,w){return p+"["+w+"]"},repeat:function(p){return p}},i=Array.isArray,a=Array.prototype.push,u=function(h,p){a.apply(h,i(p)?p:[p])},c=Date.prototype.toISOString,l=r.default,y={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:l,formatter:r.formatters[l],indices:!1,serializeDate:function(p){return c.call(p)},skipNulls:!1,strictNullHandling:!1},v=function(p){return typeof p=="string"||typeof p=="number"||typeof p=="boolean"||typeof p=="symbol"||typeof p=="bigint"},E={},_=function h(p,w,R,T,M,d,b,s,S,x,C,L,I,J,$,Y,H,z){for(var P=p,X=z,q=0,B=!1;(X=X.get(E))!==void 0&&!B;){var m=X.get(p);if(q+=1,typeof m<"u"){if(m===q)throw new RangeError("Cyclic object value");B=!0}typeof X.get(E)>"u"&&(q=0)}if(typeof x=="function"?P=x(w,P):P instanceof Date?P=I(P):R==="comma"&&i(P)&&(P=t.maybeMap(P,function(te){return te instanceof Date?I(te):te})),P===null){if(d)return S&&!Y?S(w,y.encoder,H,"key",J):w;P=""}if(v(P)||t.isBuffer(P)){if(S){var g=Y?w:S(w,y.encoder,H,"key",J);return[$(g)+"="+$(S(P,y.encoder,H,"value",J))]}return[$(w)+"="+$(String(P))]}var N=[];if(typeof P>"u")return N;var U;if(R==="comma"&&i(P))Y&&S&&(P=t.maybeMap(P,S)),U=[{value:P.length>0?P.join(",")||null:void 0}];else if(i(x))U=x;else{var F=Object.keys(P);U=C?F.sort(C):F}var k=s?String(w).replace(/\./g,"%2E"):String(w),G=T&&i(P)&&P.length===1?k+"[]":k;if(M&&i(P)&&P.length===0)return G+"[]";for(var j=0;j<U.length;++j){var D=U[j],V=typeof D=="object"&&D&&typeof D.value<"u"?D.value:P[D];if(!(b&&V===null)){var W=L&&s?String(D).replace(/\./g,"%2E"):String(D),Q=i(P)?typeof R=="function"?R(G,W):G:G+(L?"."+W:"["+W+"]");z.set(p,q);var Z=e();Z.set(E,z),u(N,h(V,Q,R,T,M,d,b,s,R==="comma"&&Y&&i(P)?null:S,x,C,L,I,J,$,Y,H,Z))}}return N},f=function(p){if(!p)return y;if(typeof p.allowEmptyArrays<"u"&&typeof p.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof p.encodeDotInKeys<"u"&&typeof p.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(p.encoder!==null&&typeof p.encoder<"u"&&typeof p.encoder!="function")throw new TypeError("Encoder has to be a function.");var w=p.charset||y.charset;if(typeof p.charset<"u"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var R=r.default;if(typeof p.format<"u"){if(!n.call(r.formatters,p.format))throw new TypeError("Unknown format option provided.");R=p.format}var T=r.formatters[R],M=y.filter;(typeof p.filter=="function"||i(p.filter))&&(M=p.filter);var d;if(p.arrayFormat in o?d=p.arrayFormat:"indices"in p?d=p.indices?"indices":"repeat":d=y.arrayFormat,"commaRoundTrip"in p&&typeof p.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var b=typeof p.allowDots>"u"?p.encodeDotInKeys===!0?!0:y.allowDots:!!p.allowDots;return{addQueryPrefix:typeof p.addQueryPrefix=="boolean"?p.addQueryPrefix:y.addQueryPrefix,allowDots:b,allowEmptyArrays:typeof p.allowEmptyArrays=="boolean"?!!p.allowEmptyArrays:y.allowEmptyArrays,arrayFormat:d,charset:w,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:y.charsetSentinel,commaRoundTrip:!!p.commaRoundTrip,delimiter:typeof p.delimiter>"u"?y.delimiter:p.delimiter,encode:typeof p.encode=="boolean"?p.encode:y.encode,encodeDotInKeys:typeof p.encodeDotInKeys=="boolean"?p.encodeDotInKeys:y.encodeDotInKeys,encoder:typeof p.encoder=="function"?p.encoder:y.encoder,encodeValuesOnly:typeof p.encodeValuesOnly=="boolean"?p.encodeValuesOnly:y.encodeValuesOnly,filter:M,format:R,formatter:T,serializeDate:typeof p.serializeDate=="function"?p.serializeDate:y.serializeDate,skipNulls:typeof p.skipNulls=="boolean"?p.skipNulls:y.skipNulls,sort:typeof p.sort=="function"?p.sort:null,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:y.strictNullHandling}};return Ur=function(h,p){var w=h,R=f(p),T,M;typeof R.filter=="function"?(M=R.filter,w=M("",w)):i(R.filter)&&(M=R.filter,T=M);var d=[];if(typeof w!="object"||w===null)return"";var b=o[R.arrayFormat],s=b==="comma"&&R.commaRoundTrip;T||(T=Object.keys(w)),R.sort&&T.sort(R.sort);for(var S=e(),x=0;x<T.length;++x){var C=T[x],L=w[C];R.skipNulls&&L===null||u(d,_(L,C,b,s,R.allowEmptyArrays,R.strictNullHandling,R.skipNulls,R.encodeDotInKeys,R.encode?R.encoder:null,R.filter,R.sort,R.allowDots,R.serializeDate,R.format,R.formatter,R.encodeValuesOnly,R.charset,S))}var I=d.join(R.delimiter),J=R.addQueryPrefix===!0?"?":"";return R.charsetSentinel&&(R.charset==="iso-8859-1"?J+="utf8=%26%2310003%3B&":J+="utf8=%E2%9C%93&"),I.length>0?J+I:""},Ur}var Fr,qa;function zi(){if(qa)return Fr;qa=1;var e=Io(),t=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},o=function(_){return _.replace(/&#(\d+);/g,function(f,h){return String.fromCharCode(parseInt(h,10))})},i=function(_,f,h){if(_&&typeof _=="string"&&f.comma&&_.indexOf(",")>-1)return _.split(",");if(f.throwOnLimitExceeded&&h>=f.arrayLimit)throw new RangeError("Array limit exceeded. Only "+f.arrayLimit+" element"+(f.arrayLimit===1?"":"s")+" allowed in an array.");return _},a="utf8=%26%2310003%3B",u="utf8=%E2%9C%93",c=function(f,h){var p={__proto__:null},w=h.ignoreQueryPrefix?f.replace(/^\?/,""):f;w=w.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var R=h.parameterLimit===1/0?void 0:h.parameterLimit,T=w.split(h.delimiter,h.throwOnLimitExceeded?R+1:R);if(h.throwOnLimitExceeded&&T.length>R)throw new RangeError("Parameter limit exceeded. Only "+R+" parameter"+(R===1?"":"s")+" allowed.");var M=-1,d,b=h.charset;if(h.charsetSentinel)for(d=0;d<T.length;++d)T[d].indexOf("utf8=")===0&&(T[d]===u?b="utf-8":T[d]===a&&(b="iso-8859-1"),M=d,d=T.length);for(d=0;d<T.length;++d)if(d!==M){var s=T[d],S=s.indexOf("]="),x=S===-1?s.indexOf("="):S+1,C,L;if(x===-1?(C=h.decoder(s,n.decoder,b,"key"),L=h.strictNullHandling?null:""):(C=h.decoder(s.slice(0,x),n.decoder,b,"key"),C!==null&&(L=e.maybeMap(i(s.slice(x+1),h,r(p[C])?p[C].length:0),function(J){return h.decoder(J,n.decoder,b,"value")}))),L&&h.interpretNumericEntities&&b==="iso-8859-1"&&(L=o(String(L))),s.indexOf("[]=")>-1&&(L=r(L)?[L]:L),C!==null){var I=t.call(p,C);I&&h.duplicates==="combine"?p[C]=e.combine(p[C],L,h.arrayLimit,h.plainObjects):(!I||h.duplicates==="last")&&(p[C]=L)}}return p},l=function(_,f,h,p){var w=0;if(_.length>0&&_[_.length-1]==="[]"){var R=_.slice(0,-1).join("");w=Array.isArray(f)&&f[R]?f[R].length:0}for(var T=p?f:i(f,h,w),M=_.length-1;M>=0;--M){var d,b=_[M];if(b==="[]"&&h.parseArrays)e.isOverflow(T)?d=T:d=h.allowEmptyArrays&&(T===""||h.strictNullHandling&&T===null)?[]:e.combine([],T,h.arrayLimit,h.plainObjects);else{d=h.plainObjects?{__proto__:null}:{};var s=b.charAt(0)==="["&&b.charAt(b.length-1)==="]"?b.slice(1,-1):b,S=h.decodeDotInKeys?s.replace(/%2E/g,"."):s,x=parseInt(S,10);!h.parseArrays&&S===""?d={0:T}:!isNaN(x)&&b!==S&&String(x)===S&&x>=0&&h.parseArrays&&x<=h.arrayLimit?(d=[],d[x]=T):S!=="__proto__"&&(d[S]=T)}T=d}return T},y=function(f,h){var p=h.allowDots?f.replace(/\.([^.[]+)/g,"[$1]"):f;if(h.depth<=0)return!h.plainObjects&&t.call(Object.prototype,p)&&!h.allowPrototypes?void 0:[p];var w=/(\[[^[\]]*])/,R=/(\[[^[\]]*])/g,T=w.exec(p),M=T?p.slice(0,T.index):p,d=[];if(M){if(!h.plainObjects&&t.call(Object.prototype,M)&&!h.allowPrototypes)return;d.push(M)}for(var b=0;(T=R.exec(p))!==null&&b<h.depth;){b+=1;var s=T[1].slice(1,-1);if(!h.plainObjects&&t.call(Object.prototype,s)&&!h.allowPrototypes)return;d.push(T[1])}if(T){if(h.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+h.depth+" and strictDepth is true");d.push("["+p.slice(T.index)+"]")}return d},v=function(f,h,p,w){if(f){var R=y(f,p);if(R)return l(R,h,p,w)}},E=function(f){if(!f)return n;if(typeof f.allowEmptyArrays<"u"&&typeof f.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof f.decodeDotInKeys<"u"&&typeof f.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(f.decoder!==null&&typeof f.decoder<"u"&&typeof f.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof f.charset<"u"&&f.charset!=="utf-8"&&f.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof f.throwOnLimitExceeded<"u"&&typeof f.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var h=typeof f.charset>"u"?n.charset:f.charset,p=typeof f.duplicates>"u"?n.duplicates:f.duplicates;if(p!=="combine"&&p!=="first"&&p!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var w=typeof f.allowDots>"u"?f.decodeDotInKeys===!0?!0:n.allowDots:!!f.allowDots;return{allowDots:w,allowEmptyArrays:typeof f.allowEmptyArrays=="boolean"?!!f.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof f.allowPrototypes=="boolean"?f.allowPrototypes:n.allowPrototypes,allowSparse:typeof f.allowSparse=="boolean"?f.allowSparse:n.allowSparse,arrayLimit:typeof f.arrayLimit=="number"?f.arrayLimit:n.arrayLimit,charset:h,charsetSentinel:typeof f.charsetSentinel=="boolean"?f.charsetSentinel:n.charsetSentinel,comma:typeof f.comma=="boolean"?f.comma:n.comma,decodeDotInKeys:typeof f.decodeDotInKeys=="boolean"?f.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof f.decoder=="function"?f.decoder:n.decoder,delimiter:typeof f.delimiter=="string"||e.isRegExp(f.delimiter)?f.delimiter:n.delimiter,depth:typeof f.depth=="number"||f.depth===!1?+f.depth:n.depth,duplicates:p,ignoreQueryPrefix:f.ignoreQueryPrefix===!0,interpretNumericEntities:typeof f.interpretNumericEntities=="boolean"?f.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof f.parameterLimit=="number"?f.parameterLimit:n.parameterLimit,parseArrays:f.parseArrays!==!1,plainObjects:typeof f.plainObjects=="boolean"?f.plainObjects:n.plainObjects,strictDepth:typeof f.strictDepth=="boolean"?!!f.strictDepth:n.strictDepth,strictNullHandling:typeof f.strictNullHandling=="boolean"?f.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof f.throwOnLimitExceeded=="boolean"?f.throwOnLimitExceeded:!1}};return Fr=function(_,f){var h=E(f);if(_===""||_===null||typeof _>"u")return h.plainObjects?{__proto__:null}:{};for(var p=typeof _=="string"?c(_,h):_,w=h.plainObjects?{__proto__:null}:{},R=Object.keys(p),T=0;T<R.length;++T){var M=R[T],d=v(M,p[M],h,typeof _=="string");w=e.merge(w,d,h)}return h.allowSparse===!0?w:e.compact(w)},Fr}var jr,Ua;function Wi(){if(Ua)return jr;Ua=1;var e=Hi(),t=zi(),r=sn();return jr={formats:r,parse:t,stringify:e},jr}var Fa;function Ji(){if(Fa)return Se;Fa=1;var e=mi();function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var r=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,i=["<",">",'"',"`"," ","\r",`
`,"	"],a=["{","}","|","\\","^","`"].concat(i),u=["'"].concat(a),c=["%","/","?",";","#"].concat(u),l=["/","?","#"],y=255,v=/^[+a-z0-9A-Z_-]{0,63}$/,E=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},f={javascript:!0,"javascript:":!0},h={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},p=Wi();function w(d,b,s){if(d&&typeof d=="object"&&d instanceof t)return d;var S=new t;return S.parse(d,b,s),S}t.prototype.parse=function(d,b,s){if(typeof d!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof d);var S=d.indexOf("?"),x=S!==-1&&S<d.indexOf("#")?"?":"#",C=d.split(x),L=/\\/g;C[0]=C[0].replace(L,"/"),d=C.join(x);var I=d;if(I=I.trim(),!s&&d.split("#").length===1){var J=o.exec(I);if(J)return this.path=I,this.href=I,this.pathname=J[1],J[2]?(this.search=J[2],b?this.query=p.parse(this.search.substr(1)):this.query=this.search.substr(1)):b&&(this.search="",this.query={}),this}var $=r.exec(I);if($){$=$[0];var Y=$.toLowerCase();this.protocol=Y,I=I.substr($.length)}if(s||$||I.match(/^\/\/[^@/]+@[^@/]+/)){var H=I.substr(0,2)==="//";H&&!($&&f[$])&&(I=I.substr(2),this.slashes=!0)}if(!f[$]&&(H||$&&!h[$])){for(var z=-1,P=0;P<l.length;P++){var X=I.indexOf(l[P]);X!==-1&&(z===-1||X<z)&&(z=X)}var q,B;z===-1?B=I.lastIndexOf("@"):B=I.lastIndexOf("@",z),B!==-1&&(q=I.slice(0,B),I=I.slice(B+1),this.auth=decodeURIComponent(q)),z=-1;for(var P=0;P<c.length;P++){var X=I.indexOf(c[P]);X!==-1&&(z===-1||X<z)&&(z=X)}z===-1&&(z=I.length),this.host=I.slice(0,z),I=I.slice(z),this.parseHost(),this.hostname=this.hostname||"";var m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m)for(var g=this.hostname.split(/\./),P=0,N=g.length;P<N;P++){var U=g[P];if(U&&!U.match(v)){for(var F="",k=0,G=U.length;k<G;k++)U.charCodeAt(k)>127?F+="x":F+=U[k];if(!F.match(v)){var j=g.slice(0,P),D=g.slice(P+1),V=U.match(E);V&&(j.push(V[1]),D.unshift(V[2])),D.length&&(I="/"+D.join(".")+I),this.hostname=j.join(".");break}}}this.hostname.length>y?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=e.toASCII(this.hostname));var W=this.port?":"+this.port:"",Q=this.hostname||"";this.host=Q+W,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),I[0]!=="/"&&(I="/"+I))}if(!_[Y])for(var P=0,N=u.length;P<N;P++){var Z=u[P];if(I.indexOf(Z)!==-1){var te=encodeURIComponent(Z);te===Z&&(te=escape(Z)),I=I.split(Z).join(te)}}var oe=I.indexOf("#");oe!==-1&&(this.hash=I.substr(oe),I=I.slice(0,oe));var se=I.indexOf("?");if(se!==-1?(this.search=I.substr(se),this.query=I.substr(se+1),b&&(this.query=p.parse(this.query)),I=I.slice(0,se)):b&&(this.search="",this.query={}),I&&(this.pathname=I),h[Y]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var W=this.pathname||"",ce=this.search||"";this.path=W+ce}return this.href=this.format(),this};function R(d){return typeof d=="string"&&(d=w(d)),d instanceof t?d.format():t.prototype.format.call(d)}t.prototype.format=function(){var d=this.auth||"";d&&(d=encodeURIComponent(d),d=d.replace(/%3A/i,":"),d+="@");var b=this.protocol||"",s=this.pathname||"",S=this.hash||"",x=!1,C="";this.host?x=d+this.host:this.hostname&&(x=d+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(x+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(C=p.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var L=this.search||C&&"?"+C||"";return b&&b.substr(-1)!==":"&&(b+=":"),this.slashes||(!b||h[b])&&x!==!1?(x="//"+(x||""),s&&s.charAt(0)!=="/"&&(s="/"+s)):x||(x=""),S&&S.charAt(0)!=="#"&&(S="#"+S),L&&L.charAt(0)!=="?"&&(L="?"+L),s=s.replace(/[?#]/g,function(I){return encodeURIComponent(I)}),L=L.replace("#","%23"),b+x+s+L+S};function T(d,b){return w(d,!1,!0).resolve(b)}t.prototype.resolve=function(d){return this.resolveObject(w(d,!1,!0)).format()};function M(d,b){return d?w(d,!1,!0).resolveObject(b):b}return t.prototype.resolveObject=function(d){if(typeof d=="string"){var b=new t;b.parse(d,!1,!0),d=b}for(var s=new t,S=Object.keys(this),x=0;x<S.length;x++){var C=S[x];s[C]=this[C]}if(s.hash=d.hash,d.href==="")return s.href=s.format(),s;if(d.slashes&&!d.protocol){for(var L=Object.keys(d),I=0;I<L.length;I++){var J=L[I];J!=="protocol"&&(s[J]=d[J])}return h[s.protocol]&&s.hostname&&!s.pathname&&(s.pathname="/",s.path=s.pathname),s.href=s.format(),s}if(d.protocol&&d.protocol!==s.protocol){if(!h[d.protocol]){for(var $=Object.keys(d),Y=0;Y<$.length;Y++){var H=$[Y];s[H]=d[H]}return s.href=s.format(),s}if(s.protocol=d.protocol,!d.host&&!f[d.protocol]){for(var N=(d.pathname||"").split("/");N.length&&!(d.host=N.shift()););d.host||(d.host=""),d.hostname||(d.hostname=""),N[0]!==""&&N.unshift(""),N.length<2&&N.unshift(""),s.pathname=N.join("/")}else s.pathname=d.pathname;if(s.search=d.search,s.query=d.query,s.host=d.host||"",s.auth=d.auth,s.hostname=d.hostname||d.host,s.port=d.port,s.pathname||s.search){var z=s.pathname||"",P=s.search||"";s.path=z+P}return s.slashes=s.slashes||d.slashes,s.href=s.format(),s}var X=s.pathname&&s.pathname.charAt(0)==="/",q=d.host||d.pathname&&d.pathname.charAt(0)==="/",B=q||X||s.host&&d.pathname,m=B,g=s.pathname&&s.pathname.split("/")||[],N=d.pathname&&d.pathname.split("/")||[],U=s.protocol&&!h[s.protocol];if(U&&(s.hostname="",s.port=null,s.host&&(g[0]===""?g[0]=s.host:g.unshift(s.host)),s.host="",d.protocol&&(d.hostname=null,d.port=null,d.host&&(N[0]===""?N[0]=d.host:N.unshift(d.host)),d.host=null),B=B&&(N[0]===""||g[0]==="")),q)s.host=d.host||d.host===""?d.host:s.host,s.hostname=d.hostname||d.hostname===""?d.hostname:s.hostname,s.search=d.search,s.query=d.query,g=N;else if(N.length)g||(g=[]),g.pop(),g=g.concat(N),s.search=d.search,s.query=d.query;else if(d.search!=null){if(U){s.host=g.shift(),s.hostname=s.host;var F=s.host&&s.host.indexOf("@")>0?s.host.split("@"):!1;F&&(s.auth=F.shift(),s.hostname=F.shift(),s.host=s.hostname)}return s.search=d.search,s.query=d.query,(s.pathname!==null||s.search!==null)&&(s.path=(s.pathname?s.pathname:"")+(s.search?s.search:"")),s.href=s.format(),s}if(!g.length)return s.pathname=null,s.search?s.path="/"+s.search:s.path=null,s.href=s.format(),s;for(var k=g.slice(-1)[0],G=(s.host||d.host||g.length>1)&&(k==="."||k==="..")||k==="",j=0,D=g.length;D>=0;D--)k=g[D],k==="."?g.splice(D,1):k===".."?(g.splice(D,1),j++):j&&(g.splice(D,1),j--);if(!B&&!m)for(;j--;j)g.unshift("..");B&&g[0]!==""&&(!g[0]||g[0].charAt(0)!=="/")&&g.unshift(""),G&&g.join("/").substr(-1)!=="/"&&g.push("");var V=g[0]===""||g[0]&&g[0].charAt(0)==="/";if(U){s.hostname=V?"":g.length?g.shift():"",s.host=s.hostname;var F=s.host&&s.host.indexOf("@")>0?s.host.split("@"):!1;F&&(s.auth=F.shift(),s.hostname=F.shift(),s.host=s.hostname)}return B=B||s.host&&g.length,B&&!V&&g.unshift(""),g.length>0?s.pathname=g.join("/"):(s.pathname=null,s.path=null),(s.pathname!==null||s.search!==null)&&(s.path=(s.pathname?s.pathname:"")+(s.search?s.search:"")),s.auth=d.auth||s.auth,s.slashes=s.slashes||d.slashes,s.href=s.format(),s},t.prototype.parseHost=function(){var d=this.host,b=n.exec(d);b&&(b=b[0],b!==":"&&(this.port=b.substr(1)),d=d.substr(0,d.length-b.length)),d&&(this.hostname=d)},Se.parse=w,Se.resolve=T,Se.resolveObject=M,Se.format=R,Se.Url=t,Se}var Br,ja;function Yi(){if(ja)return Br;ja=1;const e=Ji(),t=me,r=me,{gzipSync:n}=me,{globalRegistry:o}=we();class i{constructor(y,v,E){E||(E=o),this.registry=E,this.gatewayUrl=y;const{requireJobName:_,...f}={requireJobName:!0,...v};this.requireJobName=_,this.requestOptions=f}pushAdd(y={}){if(this.requireJobName&&!y.jobName)throw new Error("Missing jobName parameter");return a.call(this,"POST",y.jobName,y.groupings)}push(y={}){if(this.requireJobName&&!y.jobName)throw new Error("Missing jobName parameter");return a.call(this,"PUT",y.jobName,y.groupings)}delete(y={}){if(this.requireJobName&&!y.jobName)throw new Error("Missing jobName parameter");return a.call(this,"DELETE",y.jobName,y.groupings)}}async function a(l,y,v){const E=e.parse(this.gatewayUrl),_=E.pathname&&E.pathname!=="/"?E.pathname:"",f=y?`/job/${encodeURIComponent(y)}${u(v)}`:"",h=`${_}/metrics${f}`,p=e.resolve(this.gatewayUrl,h),w=e.parse(p),R=c(w.href)?r:t,T=Object.assign(w,this.requestOptions,{method:l});return new Promise((M,d)=>{l==="DELETE"&&T.headers&&delete T.headers["Content-Encoding"];const b=R.request(T,s=>{let S="";s.setEncoding("utf8"),s.on("data",x=>{S+=x}),s.on("end",()=>{s.statusCode>=400?d(new Error(`push failed with status ${s.statusCode}, ${S}`)):M({resp:s,body:S})})});b.on("error",s=>{d(s)}),b.on("timeout",()=>{b.destroy(new Error("Pushgateway request timed out"))}),l!=="DELETE"?this.registry.metrics().then(s=>{T.headers&&T.headers["Content-Encoding"]==="gzip"&&(s=n(s)),b.write(s),b.end()}).catch(s=>{d(s)}):b.end()})}function u(l){return l?Object.keys(l).map(y=>`/${encodeURIComponent(y)}/${encodeURIComponent(l[y])}`).join(""):""}function c(l){return l.search(/^https/)!==-1}return Br=i,Br}var tt={},Ba;function ka(){return Ba||(Ba=1,tt.linearBuckets=(e,t,r)=>{if(r<1)throw new Error("Linear buckets needs a positive count");const n=new Array(r);for(let o=0;o<r;o++)n[o]=e+o*t;return n},tt.exponentialBuckets=(e,t,r)=>{if(e<=0)throw new Error("Exponential buckets needs a positive start");if(r<1)throw new Error("Exponential buckets needs a positive count");if(t<=1)throw new Error("Exponential buckets needs a factor greater than 1");const n=new Array(r);for(let o=0;o<r;o++)n[o]=e,e*=t;return n}),tt}var rt={exports:{}},nt={exports:{}},Ki=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},Ne="1.9.0",Ga=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Xi(e){var t=new Set([e]),r=new Set,n=e.match(Ga);if(!n)return function(){return!1};var o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(o.prerelease!=null)return function(c){return c===e};function i(u){return r.add(u),!1}function a(u){return t.add(u),!0}return function(c){if(t.has(c))return!0;if(r.has(c))return!1;var l=c.match(Ga);if(!l)return i(c);var y={major:+l[1],minor:+l[2],patch:+l[3],prerelease:l[4]};return y.prerelease!=null||o.major!==y.major?i(c):o.major===0?o.minor===y.minor&&o.patch<=y.patch?a(c):i(c):o.minor<=y.minor?a(c):i(c)}}var Qi=Xi(Ne),Zi=Ne.split(".")[0],$e=Symbol.for("opentelemetry.js.api."+Zi),He=Ki;function Je(e,t,r,n){var o;n===void 0&&(n=!1);var i=He[$e]=(o=He[$e])!==null&&o!==void 0?o:{version:Ne};if(!n&&i[e]){var a=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(a.stack||a.message),!1}if(i.version!==Ne){var a=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v"+Ne);return r.error(a.stack||a.message),!1}return i[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+Ne+"."),!0}function Re(e){var t,r,n=(t=He[$e])===null||t===void 0?void 0:t.version;if(!(!n||!Qi(n)))return(r=He[$e])===null||r===void 0?void 0:r[e]}function Ye(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Ne+".");var r=He[$e];r&&delete r[e]}var es=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){a={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},ts=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},rs=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ke("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ke("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ke("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ke("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ke("verbose",this._namespace,t)},e}();function ke(e,t,r){var n=Re("diag");if(n)return r.unshift(t),n[e].apply(n,ts([],es(r),!1))}var le;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(le||(le={}));function ns(e,t){e<le.NONE?e=le.NONE:e>le.ALL&&(e=le.ALL),t=t||{};function r(n,o){var i=t[n];return typeof i=="function"&&e>=o?i.bind(t):function(){}}return{error:r("error",le.ERROR),warn:r("warn",le.WARN),info:r("info",le.INFO),debug:r("debug",le.DEBUG),verbose:r("verbose",le.VERBOSE)}}var as=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){a={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},os=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},is="diag",ge=function(){function e(){function t(o){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var u=Re("diag");if(u)return u[o].apply(u,os([],as(i),!1))}}var r=this,n=function(o,i){var a,u,c;if(i===void 0&&(i={logLevel:le.INFO}),o===r){var l=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((a=l.stack)!==null&&a!==void 0?a:l.message),!1}typeof i=="number"&&(i={logLevel:i});var y=Re("diag"),v=ns((u=i.logLevel)!==null&&u!==void 0?u:le.INFO,o);if(y&&!i.suppressOverrideMessage){var E=(c=new Error().stack)!==null&&c!==void 0?c:"<failed to generate stacktrace>";y.warn("Current logger will be overwritten from "+E),v.warn("Current logger will overwrite one already registered from "+E)}return Je("diag",v,r,!0)};r.setLogger=n,r.disable=function(){Ye(is,r)},r.createComponentLogger=function(o){return new rs(o)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),ss=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){a={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},us=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},cs=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var r=this._entries.get(t);if(r)return Object.assign({},r)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var r=ss(t,2),n=r[0],o=r[1];return[n,o]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=new e(this._entries);try{for(var a=us(n),u=a.next();!u.done;u=a.next()){var c=u.value;i._entries.delete(c)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},e.prototype.clear=function(){return new e},e}(),ls=Symbol("BaggageEntryMetadata"),fs=ge.instance();function ps(e){return e===void 0&&(e={}),new cs(new Map(Object.entries(e)))}function hs(e){return typeof e!="string"&&(fs.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:ls,toString:function(){return e}}}function un(e){return Symbol.for(e)}var ds=function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,o){var i=new e(r._currentContext);return i._currentContext.set(n,o),i},r.deleteValue=function(n){var o=new e(r._currentContext);return o._currentContext.delete(n),o}}return e}(),Mo=new ds,kr=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],ys=function(){function e(){function t(n){return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(console){var a=console[n];if(typeof a!="function"&&(a=console.log),typeof a=="function")return a.apply(console,o)}}}for(var r=0;r<kr.length;r++)this[kr[r].n]=t(kr[r].c)}return e}(),Te=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ms=function(){function e(){}return e.prototype.createGauge=function(t,r){return Ss},e.prototype.createHistogram=function(t,r){return Ns},e.prototype.createCounter=function(t,r){return As},e.prototype.createUpDownCounter=function(t,r){return Rs},e.prototype.createObservableGauge=function(t,r){return xs},e.prototype.createObservableCounter=function(t,r){return Ts},e.prototype.createObservableUpDownCounter=function(t,r){return Ps},e.prototype.addBatchObservableCallback=function(t,r){},e.prototype.removeBatchObservableCallback=function(t){},e}(),wt=function(){function e(){}return e}(),vs=function(e){Te(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(r,n){},t}(wt),gs=function(e){Te(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(r,n){},t}(wt),_s=function(e){Te(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(r,n){},t}(wt),bs=function(e){Te(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(r,n){},t}(wt),cn=function(){function e(){}return e.prototype.addCallback=function(t){},e.prototype.removeCallback=function(t){},e}(),Es=function(e){Te(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(cn),Os=function(e){Te(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(cn),ws=function(e){Te(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(cn),Co=new ms,As=new vs,Ss=new _s,Ns=new bs,Rs=new gs,Ts=new Es,xs=new Os,Ps=new ws;function Is(){return Co}var Qr;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(Qr||(Qr={}));var Do={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}},Lo={set:function(e,t,r){e!=null&&(e[t]=r)}},Ms=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){a={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},Cs=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},Ds=function(){function e(){}return e.prototype.active=function(){return Mo},e.prototype.with=function(t,r,n){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return r.call.apply(r,Cs([n],Ms(o),!1))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),Ls=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],a;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){a={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i},qs=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},Gr="context",Us=new Ds,At=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Je(Gr,t,ge.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var o,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return(o=this._getContextManager()).with.apply(o,qs([t,r,n],Ls(i),!1))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return Re(Gr)||Us},e.prototype.disable=function(){this._getContextManager().disable(),Ye(Gr,ge.instance())},e}(),_t;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(_t||(_t={}));var ln="0000000000000000",fn="00000000000000000000000000000000",qo={traceId:fn,spanId:ln,traceFlags:_t.NONE},Ve=function(){function e(t){t===void 0&&(t=qo),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e}(),pn=un("OpenTelemetry Context Key SPAN");function hn(e){return e.getValue(pn)||void 0}function Fs(){return hn(At.getInstance().active())}function dn(e,t){return e.setValue(pn,t)}function js(e){return e.deleteValue(pn)}function Bs(e,t){return dn(e,new Ve(t))}function Uo(e){var t;return(t=hn(e))===null||t===void 0?void 0:t.spanContext()}var ks=/^([0-9a-f]{32})$/i,Gs=/^[0-9a-f]{16}$/i;function Fo(e){return ks.test(e)&&e!==fn}function jo(e){return Gs.test(e)&&e!==ln}function yn(e){return Fo(e.traceId)&&jo(e.spanId)}function Vs(e){return new Ve(e)}var Vr=At.getInstance(),Bo=function(){function e(){}return e.prototype.startSpan=function(t,r,n){n===void 0&&(n=Vr.active());var o=!!r?.root;if(o)return new Ve;var i=n&&Uo(n);return $s(i)&&yn(i)?new Ve(i):new Ve},e.prototype.startActiveSpan=function(t,r,n,o){var i,a,u;if(!(arguments.length<2)){arguments.length===2?u=r:arguments.length===3?(i=r,u=n):(i=r,a=n,u=o);var c=a??Vr.active(),l=this.startSpan(t,i,c),y=dn(c,l);return Vr.with(y,u,void 0,l)}},e}();function $s(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var Hs=new Bo,ko=function(){function e(t,r,n,o){this._provider=t,this.name=r,this.version=n,this.options=o}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,o){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):Hs},e}(),zs=function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new Bo},e}(),Ws=new zs,Zr=function(){function e(){}return e.prototype.getTracer=function(t,r,n){var o;return(o=this.getDelegateTracer(t,r,n))!==null&&o!==void 0?o:new ko(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:Ws},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getTracer(t,r,n)},e}(),en;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(en||(en={}));var tn;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(tn||(tn={}));var rn;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(rn||(rn={}));var nn="[_0-9a-z-*/]",Js="[a-z]"+nn+"{0,255}",Ys="[a-z0-9]"+nn+"{0,240}@[a-z]"+nn+"{0,13}",Ks=new RegExp("^(?:"+Js+"|"+Ys+")$"),Xs=/^[ -~]{0,255}[!-~]$/,Qs=/,|=/;function Zs(e){return Ks.test(e)}function eu(e){return Xs.test(e)&&!Qs.test(e)}var Va=32,tu=512,$a=",",Ha="=",ru=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,r){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n},e.prototype.unset=function(t){var r=this._clone();return r._internalState.delete(t),r},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(r,n){return r.push(n+Ha+t.get(n)),r},[]).join($a)},e.prototype._parse=function(t){t.length>tu||(this._internalState=t.split($a).reverse().reduce(function(r,n){var o=n.trim(),i=o.indexOf(Ha);if(i!==-1){var a=o.slice(0,i),u=o.slice(i+1,n.length);Zs(a)&&eu(u)&&r.set(a,u)}return r},new Map),this._internalState.size>Va&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Va))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();function nu(e){return new ru(e)}var Go=At.getInstance(),Vo=ge.instance(),au=function(){function e(){}return e.prototype.getMeter=function(t,r,n){return Co},e}(),ou=new au,$r="metrics",iu=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(t){return Je($r,t,ge.instance())},e.prototype.getMeterProvider=function(){return Re($r)||ou},e.prototype.getMeter=function(t,r,n){return this.getMeterProvider().getMeter(t,r,n)},e.prototype.disable=function(){Ye($r,ge.instance())},e}(),$o=iu.getInstance(),su=function(){function e(){}return e.prototype.inject=function(t,r){},e.prototype.extract=function(t,r){return t},e.prototype.fields=function(){return[]},e}(),mn=un("OpenTelemetry Baggage Key");function Ho(e){return e.getValue(mn)||void 0}function uu(){return Ho(At.getInstance().active())}function cu(e,t){return e.setValue(mn,t)}function lu(e){return e.deleteValue(mn)}var Hr="propagation",fu=new su,pu=function(){function e(){this.createBaggage=ps,this.getBaggage=Ho,this.getActiveBaggage=uu,this.setBaggage=cu,this.deleteBaggage=lu}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return Je(Hr,t,ge.instance())},e.prototype.inject=function(t,r,n){return n===void 0&&(n=Lo),this._getGlobalPropagator().inject(t,r,n)},e.prototype.extract=function(t,r,n){return n===void 0&&(n=Do),this._getGlobalPropagator().extract(t,r,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){Ye(Hr,ge.instance())},e.prototype._getGlobalPropagator=function(){return Re(Hr)||fu},e}(),zo=pu.getInstance(),zr="trace",hu=function(){function e(){this._proxyTracerProvider=new Zr,this.wrapSpanContext=Vs,this.isSpanContextValid=yn,this.deleteSpan=js,this.getSpan=hn,this.getActiveSpan=Fs,this.getSpanContext=Uo,this.setSpan=dn,this.setSpanContext=Bs}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=Je(zr,this._proxyTracerProvider,ge.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return Re(zr)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){Ye(zr,ge.instance()),this._proxyTracerProvider=new Zr},e}(),Wo=hu.getInstance();const du={context:Go,diag:Vo,metrics:$o,propagation:zo,trace:Wo},yu=Object.freeze(Object.defineProperty({__proto__:null,DiagConsoleLogger:ys,get DiagLogLevel(){return le},INVALID_SPANID:ln,INVALID_SPAN_CONTEXT:qo,INVALID_TRACEID:fn,ProxyTracer:ko,ProxyTracerProvider:Zr,ROOT_CONTEXT:Mo,get SamplingDecision(){return en},get SpanKind(){return tn},get SpanStatusCode(){return rn},get TraceFlags(){return _t},get ValueType(){return Qr},baggageEntryMetadataFromString:hs,context:Go,createContextKey:un,createNoopMeter:Is,createTraceState:nu,default:du,defaultTextMapGetter:Do,defaultTextMapSetter:Lo,diag:Vo,isSpanContextValid:yn,isValidSpanId:jo,isValidTraceId:Fo,metrics:$o,propagation:zo,trace:Wo},Symbol.toStringTag,{value:"Module"})),mu=mo(yu);var za;function vu(){if(za)return nt.exports;za=1;const e=mu,t=_o(),r="process_cpu_user_seconds_total",n="process_cpu_system_seconds_total",o="process_cpu_seconds_total";return nt.exports=(i,a={})=>{const u=i?[i]:void 0,c=a.prefix?a.prefix:"",l=a.labels?a.labels:{},y=a.enableExemplars?a.enableExemplars:!1,v=Object.keys(l);let E=process.cpuUsage();const _=new t({name:c+r,help:"Total user CPU time spent in seconds.",enableExemplars:y,registers:u,labelNames:v,collect(){const p=process.cpuUsage(),w=p.user-E.user,R=p.system-E.system;if(E=p,this.enableExemplars){let T={};const M=e.trace.getSpan(e.context.active());M&&(T={traceId:M.spanContext().traceId,spanId:M.spanContext().spanId}),_.inc({labels:l,value:w/1e6,exemplarLabels:T}),f.inc({labels:l,value:R/1e6,exemplarLabels:T}),h.inc({labels:l,value:(w+R)/1e6,exemplarLabels:T})}else _.inc(l,w/1e6),f.inc(l,R/1e6),h.inc(l,(w+R)/1e6)}}),f=new t({name:c+n,help:"Total system CPU time spent in seconds.",enableExemplars:y,registers:u,labelNames:v}),h=new t({name:c+o,help:"Total user and system CPU time spent in seconds.",enableExemplars:y,registers:u,labelNames:v})},nt.exports.metricNames=[r,n,o],nt.exports}var at={exports:{}},Wa;function gu(){if(Wa)return at.exports;Wa=1;const e=pe(),t=Math.round(Date.now()/1e3-process.uptime()),r="process_start_time_seconds";return at.exports=(n,o={})=>{const i=o.prefix?o.prefix:"",a=o.labels?o.labels:{},u=Object.keys(a);new e({name:i+r,help:"Start time of the process since unix epoch in seconds.",registers:n?[n]:void 0,labelNames:u,aggregator:"omit",collect(){this.set(a,t)}})},at.exports.metricNames=[r],at.exports}var ot={exports:{}},it={exports:{}},Ja;function _u(){if(Ja)return it.exports;Ja=1;const e=pe(),t=me,r=["VmSize","VmRSS","VmData"],n="process_resident_memory_bytes",o="process_virtual_memory_bytes",i="process_heap_bytes";function a(u){return u.split(`
`).reduce((c,l)=>{if(!r.some(E=>l.startsWith(E)))return c;const y=l.split(":");let v=y[1].trim();return v=v.substr(0,v.length-3),v=Number(v)*1024,c[y[0]]=v,c},{})}return it.exports=(u,c={})=>{const l=u?[u]:void 0,y=c.prefix?c.prefix:"",v=c.labels?c.labels:{},E=Object.keys(v),_=new e({name:y+n,help:"Resident memory size in bytes.",registers:l,labelNames:E,collect(){try{const p=t.readFileSync("/proc/self/status","utf8"),w=a(p);_.set(v,w.VmRSS),f.set(v,w.VmSize),h.set(v,w.VmData)}catch{}}}),f=new e({name:y+o,help:"Virtual memory size in bytes.",registers:l,labelNames:E}),h=new e({name:y+i,help:"Process heap size in bytes.",registers:l,labelNames:E})},it.exports.metricNames=[n,o,i],it.exports}var Wr,Ya;function Jo(){if(Ya)return Wr;Ya=1;function e(){try{return process.memoryUsage()}catch{return}}return Wr=e,Wr}var Ka;function bu(){if(Ka)return ot.exports;Ka=1;const e=pe(),t=_u(),r=Jo(),n="process_resident_memory_bytes";function o(i,a={}){const u=a.prefix?a.prefix:"",c=a.labels?a.labels:{},l=Object.keys(c);new e({name:u+n,help:"Resident memory size in bytes.",registers:i?[i]:void 0,labelNames:l,collect(){const y=r();y&&this.set(c,y.rss)}})}return ot.exports=(i,a)=>process.platform==="linux"?t(i,a):o(i,a),ot.exports.metricNames=process.platform==="linux"?t.metricNames:[n],ot.exports}var st={exports:{}},Jr={exports:{}},Xa;function Eu(){if(Xa)return Jr.exports;Xa=1;var e=Jr.exports={},t,r;function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=n}catch{t=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=o}catch{r=o}})();function i(h){if(t===setTimeout)return setTimeout(h,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(h,0);try{return t(h,0)}catch{try{return t.call(null,h,0)}catch{return t.call(this,h,0)}}}function a(h){if(r===clearTimeout)return clearTimeout(h);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(h);try{return r(h)}catch{try{return r.call(null,h)}catch{return r.call(this,h)}}}var u=[],c=!1,l,y=-1;function v(){!c||!l||(c=!1,l.length?u=l.concat(u):y=-1,u.length&&E())}function E(){if(!c){var h=i(v);c=!0;for(var p=u.length;p;){for(l=u,u=[];++y<p;)l&&l[y].run();y=-1,p=u.length}l=null,c=!1,a(h)}}e.nextTick=function(h){var p=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)p[w-1]=arguments[w];u.push(new _(h,p)),u.length===1&&!c&&i(E)};function _(h,p){this.fun=h,this.array=p}_.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function f(){}return e.on=f,e.addListener=f,e.once=f,e.off=f,e.removeListener=f,e.removeAllListeners=f,e.emit=f,e.prependListener=f,e.prependOnceListener=f,e.listeners=function(h){return[]},e.binding=function(h){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(h){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},Jr.exports}var Qa;function Ou(){if(Qa)return st.exports;Qa=1;const e=pe(),t=me,r=Eu(),n="process_open_fds";return st.exports=(o,i={})=>{if(r.platform!=="linux")return;const a=i.prefix?i.prefix:"",u=i.labels?i.labels:{},c=Object.keys(u);new e({name:a+n,help:"Number of open file descriptors.",registers:o?[o]:void 0,labelNames:c,collect(){try{const l=t.readdirSync("/proc/self/fd");this.set(u,l.length-1)}catch{}}})},st.exports.metricNames=[n],st.exports}var ut={exports:{}},Za;function wu(){if(Za)return ut.exports;Za=1;const e=pe(),t=me,r="process_max_fds";let n;return ut.exports=(o,i={})=>{if(n===void 0)try{const y=t.readFileSync("/proc/self/limits","utf8").split(`
`);for(const v of y)if(v.startsWith("Max open files")){const E=v.split(/  +/);n=Number(E[1]);break}}catch{return}if(n===void 0)return;const a=i.prefix?i.prefix:"",u=i.labels?i.labels:{},c=Object.keys(u);new e({name:a+r,help:"Maximum number of open file descriptors.",registers:o?[o]:void 0,labelNames:c,collect(){n!==void 0&&this.set(u,n)}})},ut.exports.metricNames=[r],ut.exports}var ct={exports:{}},eo;function Au(){if(eo)return ct.exports;eo=1;const e=pe();let t;try{t=me}catch{}const r="nodejs_eventloop_lag_seconds",n="nodejs_eventloop_lag_min_seconds",o="nodejs_eventloop_lag_max_seconds",i="nodejs_eventloop_lag_mean_seconds",a="nodejs_eventloop_lag_stddev_seconds",u="nodejs_eventloop_lag_p50_seconds",c="nodejs_eventloop_lag_p90_seconds",l="nodejs_eventloop_lag_p99_seconds";function y(v,E,_){const f=process.hrtime(v),p=(f[0]*1e9+f[1])/1e9;E.set(_,p)}return ct.exports=(v,E={})=>{const _=E.prefix?E.prefix:"",f=E.labels?E.labels:{},h=Object.keys(f),p=v?[v]:void 0;let w;if(!t||!t.monitorEventLoopDelay)w=()=>{const C=process.hrtime();setImmediate(y,C,R,f)};else{const C=t.monitorEventLoopDelay({resolution:E.eventLoopMonitoringPrecision});C.enable(),w=()=>{const L=process.hrtime();setImmediate(y,L,R,f),T.set(f,C.min/1e9),M.set(f,C.max/1e9),d.set(f,C.mean/1e9),b.set(f,C.stddev/1e9),s.set(f,C.percentile(50)/1e9),S.set(f,C.percentile(90)/1e9),x.set(f,C.percentile(99)/1e9),C.reset()}}const R=new e({name:_+r,help:"Lag of event loop in seconds.",registers:p,labelNames:h,aggregator:"average",collect:w}),T=new e({name:_+n,help:"The minimum recorded event loop delay.",registers:p,labelNames:h,aggregator:"min"}),M=new e({name:_+o,help:"The maximum recorded event loop delay.",registers:p,labelNames:h,aggregator:"max"}),d=new e({name:_+i,help:"The mean of the recorded event loop delays.",registers:p,labelNames:h,aggregator:"average"}),b=new e({name:_+a,help:"The standard deviation of the recorded event loop delays.",registers:p,labelNames:h,aggregator:"average"}),s=new e({name:_+u,help:"The 50th percentile of the recorded event loop delays.",registers:p,labelNames:h,aggregator:"average"}),S=new e({name:_+c,help:"The 90th percentile of the recorded event loop delays.",registers:p,labelNames:h,aggregator:"average"}),x=new e({name:_+l,help:"The 99th percentile of the recorded event loop delays.",registers:p,labelNames:h,aggregator:"average"})},ct.exports.metricNames=[r,n,o,i,a,u,c,l],ct.exports}var lt={exports:{}},Yr,to;function ze(){if(to)return Yr;to=1;function e(r){const n={};for(let o=0;o<r.length;o++){const i=r[o];!i||typeof i.constructor>"u"||(Object.hasOwnProperty.call(n,i.constructor.name)?n[i.constructor.name]+=1:n[i.constructor.name]=1)}return n}function t(r,n,o){r.reset();for(const i in n)r.set(Object.assign({type:i},o||{}),n[i])}return Yr={aggregateByObjectName:e,updateMetrics:t},Yr}var ro;function Su(){if(ro)return lt.exports;ro=1;const{aggregateByObjectName:e}=ze(),{updateMetrics:t}=ze(),r=pe(),n="nodejs_active_handles",o="nodejs_active_handles_total";return lt.exports=(i,a={})=>{if(typeof process._getActiveHandles!="function")return;const u=i?[i]:void 0,c=a.prefix?a.prefix:"",l=a.labels?a.labels:{},y=Object.keys(l);new r({name:c+n,help:"Number of active libuv handles grouped by handle type. Every handle type is C++ class name.",labelNames:["type",...y],registers:u,collect(){const v=process._getActiveHandles();t(this,e(v),l)}}),new r({name:c+o,help:"Total number of active handles.",registers:u,labelNames:y,collect(){const v=process._getActiveHandles();this.set(l,v.length)}})},lt.exports.metricNames=[n,o],lt.exports}var ft={exports:{}},no;function Nu(){if(no)return ft.exports;no=1;const e=pe(),{aggregateByObjectName:t}=ze(),{updateMetrics:r}=ze(),n="nodejs_active_requests",o="nodejs_active_requests_total";return ft.exports=(i,a={})=>{if(typeof process._getActiveRequests!="function")return;const u=a.prefix?a.prefix:"",c=a.labels?a.labels:{},l=Object.keys(c);new e({name:u+n,help:"Number of active libuv requests grouped by request type. Every request type is C++ class name.",labelNames:["type",...l],registers:i?[i]:void 0,collect(){const y=process._getActiveRequests();r(this,t(y),c)}}),new e({name:u+o,help:"Total number of active requests.",registers:i?[i]:void 0,labelNames:l,collect(){const y=process._getActiveRequests();this.set(c,y.length)}})},ft.exports.metricNames=[n,o],ft.exports}var pt={exports:{}},ao;function Ru(){if(ao)return pt.exports;ao=1;const e=pe(),{updateMetrics:t}=ze(),r="nodejs_active_resources",n="nodejs_active_resources_total";return pt.exports=(o,i={})=>{if(typeof process.getActiveResourcesInfo!="function")return;const a=i.prefix?i.prefix:"",u=i.labels?i.labels:{},c=Object.keys(u);new e({name:a+r,help:"Number of active resources that are currently keeping the event loop alive, grouped by async resource type.",labelNames:["type",...c],registers:o?[o]:void 0,collect(){const l=process.getActiveResourcesInfo(),y={};for(let v=0;v<l.length;v++){const E=l[v];Object.hasOwn(y,E)?y[E]+=1:y[E]=1}t(this,y,u)}}),new e({name:a+n,help:"Total number of active resources.",registers:o?[o]:void 0,labelNames:c,collect(){const l=process.getActiveResourcesInfo();this.set(u,l.length)}})},pt.exports.metricNames=[r,n],pt.exports}var ht={exports:{}},oo;function Tu(){if(oo)return ht.exports;oo=1;const e=pe(),t=Jo(),r="nodejs_heap_size_total_bytes",n="nodejs_heap_size_used_bytes",o="nodejs_external_memory_bytes";return ht.exports=(i,a={})=>{if(typeof process.memoryUsage!="function")return;const u=a.labels?a.labels:{},c=Object.keys(u),l=i?[i]:void 0,y=a.prefix?a.prefix:"",v=()=>{const h=t();h&&(E.set(u,h.heapTotal),_.set(u,h.heapUsed),h.external!==void 0&&f.set(u,h.external))},E=new e({name:y+r,help:"Process heap size from Node.js in bytes.",registers:l,labelNames:c,collect:v}),_=new e({name:y+n,help:"Process heap size used from Node.js in bytes.",registers:l,labelNames:c}),f=new e({name:y+o,help:"Node.js external memory size in bytes.",registers:l,labelNames:c})},ht.exports.metricNames=[r,n,o],ht.exports}var dt={exports:{}},io;function xu(){if(io)return dt.exports;io=1;const e=pe(),t=me,r=["total","used","available"],n={};return r.forEach(o=>{n[o]=`nodejs_heap_space_size_${o}_bytes`}),dt.exports=(o,i={})=>{const a=o?[o]:void 0,u=i.prefix?i.prefix:"",c=i.labels?i.labels:{},l=["space",...Object.keys(c)],y={};r.forEach(v=>{y[v]=new e({name:u+n[v],help:`Process heap space size ${v} from Node.js in bytes.`,labelNames:l,registers:a})}),y.total.collect=()=>{for(const v of t.getHeapSpaceStatistics()){const E=v.space_name.substr(0,v.space_name.indexOf("_space"));y.total.set({space:E,...c},v.space_size),y.used.set({space:E,...c},v.space_used_size),y.available.set({space:E,...c},v.space_available_size)}}},dt.exports.metricNames=Object.values(n),dt.exports}var yt={exports:{}},so;function Pu(){if(so)return yt.exports;so=1;const e=pe(),t=process.version,r=t.slice(1).split(".").map(Number),n="nodejs_version_info";return yt.exports=(o,i={})=>{const a=i.prefix?i.prefix:"",u=i.labels?i.labels:{},c=Object.keys(u);new e({name:a+n,help:"Node.js version info.",labelNames:["version","major","minor","patch",...c],registers:o?[o]:void 0,aggregator:"first",collect(){this.labels(t,r[0],r[1],r[2],...Object.values(u)).set(1)}})},yt.exports.metricNames=[n],yt.exports}var mt={exports:{}},uo;function Iu(){if(uo)return mt.exports;uo=1;const e=bo();let t;try{t=me}catch{}const r="nodejs_gc_duration_seconds",n=[.001,.01,.1,1,2,5],o=[];return t&&t.constants&&(o[t.constants.NODE_PERFORMANCE_GC_MAJOR]="major",o[t.constants.NODE_PERFORMANCE_GC_MINOR]="minor",o[t.constants.NODE_PERFORMANCE_GC_INCREMENTAL]="incremental",o[t.constants.NODE_PERFORMANCE_GC_WEAKCB]="weakcb"),mt.exports=(i,a={})=>{if(!t)return;const u=a.prefix?a.prefix:"",c=a.labels?a.labels:{},l=Object.keys(c),y=a.gcDurationBuckets?a.gcDurationBuckets:n,v=new e({name:u+r,help:"Garbage collection duration by kind, one of major, minor, incremental or weakcb.",labelNames:["kind",...l],enableExemplars:!1,buckets:y,registers:i?[i]:void 0});new t.PerformanceObserver(_=>{const f=_.getEntries()[0],h=f.detail?o[f.detail.kind]:o[f.kind];v.observe(Object.assign({kind:h},c),f.duration/1e3)}).observe({entryTypes:["gc"]})},mt.exports.metricNames=[r],mt.exports}var co;function Mu(){if(co)return rt.exports;co=1;const{isObject:e}=_e(),t=vu(),r=gu(),n=bu(),o=Ou(),i=wu(),a=Au(),u=Su(),c=Nu(),l=Ru(),y=Tu(),v=xu(),E=Pu(),_=Iu(),f={processCpuTotal:t,processStartTime:r,osMemoryHeap:n,processOpenFileDescriptors:o,processMaxFileDescriptors:i,eventLoopLag:a,...typeof process.getActiveResourcesInfo=="function"?{processResources:l}:{},processHandles:u,processRequests:c,heapSizeAndUsed:y,heapSpacesSizeAndUsed:v,version:E,gc:_},h=Object.keys(f);return rt.exports=function(w){if(w!=null&&!e(w))throw new TypeError("config must be null, undefined, or an object");w={eventLoopMonitoringPrecision:10,...w};for(const R of Object.values(f))R(w.register,w)},rt.exports.metricsList=h,rt.exports}var vt={},lo;function Yo(){if(lo)return vt;lo=1;const{Grouper:e,hashObject:t}=_e();function r(n){return o=>{if(o.length===0)return;const i={help:o[0].help,name:o[0].name,type:o[0].type,values:[],aggregator:o[0].aggregator},a=new e;return o.forEach(u=>{u.values.forEach(c=>{const l=t(c.labels);a.add(`${c.metricName}_${l}`,c)})}),a.forEach(u=>{if(u.length===0)return;const c={value:n(u),labels:u[0].labels};u[0].metricName&&(c.metricName=u[0].metricName),i.values.push(c)}),i}}return vt.AggregatorFactory=r,vt.aggregators={sum:r(n=>n.reduce((o,i)=>o+i.value,0)),first:r(n=>n[0].value),omit:()=>{},average:r(n=>n.reduce((o,i)=>o+i.value,0)/n.length),min:r(n=>n.reduce((o,i)=>Math.min(o,i.value),1/0)),max:r(n=>n.reduce((o,i)=>Math.max(o,i.value),-1/0))},vt}var Kr,fo;function Cu(){if(fo)return Kr;fo=1;const e=we(),{Grouper:t}=_e(),{aggregators:r}=Yo();let n=()=>{const E=me;return n=()=>E,E};const o="prom-client:getMetricsReq",i="prom-client:getMetricsRes";let a=[e.globalRegistry],u=0,c=!1;const l=new Map;class y extends e{constructor(_=e.PROMETHEUS_CONTENT_TYPE){super(_),v()}clusterMetrics(){const _=u++;return new Promise((f,h)=>{let p=!1;function w(M,d){p||(p=!0,M?h(M):f(d))}const R={responses:[],pending:0,done:w,errorTimeout:setTimeout(()=>{const M=new Error("Operation timed out.");R.done(M)},5e3)};l.set(_,R);const T={type:o,requestId:_};for(const M in n().workers)n().workers[M].isConnected()&&(n().workers[M].send(T),R.pending++);R.pending===0&&(clearTimeout(R.errorTimeout),process.nextTick(()=>w(null,"")))})}get contentType(){return super.contentType}static aggregate(_,f=e.PROMETHEUS_CONTENT_TYPE){const h=new e,p=new t;return h.setContentType(f),_.forEach(w=>{w.forEach(R=>{p.add(R.name,R)})}),p.forEach(w=>{const R=w[0].aggregator,T=r[R];if(typeof T!="function")throw new Error(`'${R}' is not a defined aggregator.`);const M=T(w);if(M){const d=Object.assign({get:()=>M},M);h.registerMetric(d)}}),h}static setRegistries(_){Array.isArray(_)||(_=[_]),_.forEach(f=>{if(!(f instanceof e))throw new TypeError(`Expected Registry, got ${typeof f}`)}),a=_}}function v(){c||(c=!0,n().isMaster&&n().on("message",(E,_)=>{if(_.type===i){const f=l.get(_.requestId);if(_.error){f.done(new Error(_.error));return}if(_.metrics.forEach(h=>f.responses.push(h)),f.pending--,f.pending===0){l.delete(_.requestId),clearTimeout(f.errorTimeout);const p=y.aggregate(f.responses).metrics();f.done(null,p)}}}),n().isWorker&&process.on("message",E=>{E.type===o&&Promise.all(a.map(_=>_.getMetricsAsJSON())).then(_=>{process.send({type:i,requestId:E.requestId,metrics:_})}).catch(_=>{process.send({type:i,requestId:E.requestId,error:_.message})})}))}return Kr=y,Kr}var po;function Du(){return po||(po=1,ue.register=we().globalRegistry,ue.Registry=we(),ue.contentType=we().globalRegistry.contentType,ue.prometheusContentType=we().PROMETHEUS_CONTENT_TYPE,ue.openMetricsContentType=we().OPENMETRICS_CONTENT_TYPE,ue.validateMetricName=qe().validateMetricName,ue.Counter=_o(),ue.Gauge=pe(),ue.Histogram=bo(),ue.Summary=di(),ue.Pushgateway=Yi(),ue.linearBuckets=ka().linearBuckets,ue.exponentialBuckets=ka().exponentialBuckets,ue.collectDefaultMetrics=Mu(),ue.aggregators=Yo().aggregators,ue.AggregatorRegistry=Cu()),ue}Du();var ie;(function(e){e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error"})(ie||(ie={}));const ho={[ie.DEBUG]:0,[ie.INFO]:1,[ie.WARN]:2,[ie.ERROR]:3};function yo(e,t){return ho[e]-ho[t]}class Lu{format(t){const r={timestamp:t.timestamp,level:t.level,message:t.message};return t.context&&(r.context=t.context),t.error&&(r.error={name:t.error.name,message:t.error.message,stack:t.error.stack}),t.metadata&&(r.metadata=t.metadata),JSON.stringify(r)}}const qu=new Lu;class St{minLevel;formatter;sendToSentry;sentryMinLevel;defaultContext;constructor(t={}){this.minLevel=t.minLevel??ie.INFO,this.formatter=t.formatter??qu,this.sendToSentry=t.sendToSentry??!1,this.sentryMinLevel=t.sentryMinLevel??ie.ERROR,this.defaultContext=t.defaultContext}log(t,r,n){if(yo(t,this.minLevel)<0)return;const o={timestamp:new Date().toISOString(),level:t,message:r,context:this.defaultContext,error:n?.error,metadata:n?.metadata},i=this.formatter.format(o);if(this.writeLog(t,i),this.sendToSentry&&yo(t,this.sentryMinLevel)>=0)if(n?.error)Rn.captureError(n.error,{level:t,message:r,...n.metadata});else{const a=this.getSentryLevel(t);Rn.captureMessage(r,a,{level:t,...n?.metadata})}}writeLog(t,r){switch(t){case ie.DEBUG:console.debug(r);break;case ie.INFO:console.info(r);break;case ie.WARN:console.warn(r);break;case ie.ERROR:console.error(r);break}}getSentryLevel(t){switch(t){case ie.DEBUG:return"debug";case ie.INFO:return"info";case ie.WARN:return"warning";case ie.ERROR:return"error"}}debug(t,r){this.log(ie.DEBUG,t,{metadata:r})}info(t,r){this.log(ie.INFO,t,{metadata:r})}warn(t,r){this.log(ie.WARN,t,{metadata:r})}error(t,r,n){this.log(ie.ERROR,t,{error:r,metadata:n})}logError(t,r){this.error(t.message,t,{...t.metadata,code:t.code,category:t.category,httpStatus:t.httpStatus,...r})}child(t){return new St({minLevel:this.minLevel,formatter:this.formatter,sendToSentry:this.sendToSentry,sentryMinLevel:this.sentryMinLevel,defaultContext:{...this.defaultContext,...t}})}}new St;let Xr=null;function Fu(){return Xr||(Xr=new St({minLevel:globalThis.window?.location.hostname==="localhost"?ie.DEBUG:ie.INFO,defaultContext:{service:"web"}})),Xr}export{Le as A,ne as E,Fu as g};
