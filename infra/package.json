{
  "private": true,
  "version": "1.0.0",
  "name": "@portfolio/infra",
  "type": "module",
  "main": "./dist/index.js",
  "exports": {
    ".": "./dist/index.js"
  },
  "scripts": {
    "build": "tsc --outDir dist",
    "clean": "git clean -xdf .cache .turbo node_modules dist",
    "fmt": "biome format --write .",
    "fmt:check": "biome format .",
    "generate": "bun run src/generators/index.ts",
    "graph": "pulumi stack graph graph.dot && bun run -e 'import { readFileSync, writeFileSync } from \"fs\"; const dot = readFileSync(\"graph.dot\", \"utf-8\"); const mermaid = `\\`\\`\\`mermaid\\n${dot}\\n\\`\\`\\``; writeFileSync(\"architecture.md\", `# Architecture Graph\\n\\n${mermaid}\\n`);'",
    "lint": "biome lint .",
    "lint:fix": "biome lint --write .",
    "preview": "pulumi preview",
    "refresh": "pulumi refresh",
    "select": "pulumi stack select",
    "typecheck": "tsc --noEmit",
    "up": "pulumi up",
    "login": "pulumi login && doppler login"
  },
  "dependencies": {
    "@pulumi/cloudflare": "5.45.0",
    "@pulumi/pulumi": "3.142.0",
    "@pulumi/random": "4.16.7",
    "@pulumiverse/doppler": "0.9.0",
    "@pulumiverse/grafana": "2.19.0",
    "@pulumiverse/sentry": "0.0.9",
    "@rediscloud/pulumi-rediscloud": "1.3.3"
  },
  "devDependencies": {
    "@portfolio/biome-config": "workspace:*",
    "@portfolio/tsconfig": "workspace:*",
    "@types/node": "25.0.3",
    "tsx": "4.19.2",
    "typescript": "5.9.3"
  },
  "pulumi": {
    "main": "dist/index.js"
  }
}
